# Research Skill ê³„íšì„œ v4 - Claude Code êµ¬í˜„ ê°€ì´ë“œ

> **ê¸°ë°˜ ì—°êµ¬**: v1-v3 ê³„íšì„œ + Claude Code ê¸°ëŠ¥ ìƒì„¸ ì¡°ì‚¬
>
> **í•µì‹¬ ëª©í‘œ**: v3ì˜ ì„¤ê³„ë¥¼ Claude Codeì˜ ì‹¤ì œ ê¸°ëŠ¥ì— ë§ì¶° **ì™„ì „íˆ êµ¬í˜„ ê°€ëŠ¥í•œ í˜•íƒœ**ë¡œ êµ¬ì²´í™”
>
> **ì¡°ì‚¬ ë²”ìœ„**: Skills ì‹œìŠ¤í…œ, Hooks ì‹œìŠ¤í…œ, Task Tool(ì„œë¸Œì—ì´ì „íŠ¸), ì„¤ì • ì‹œìŠ¤í…œ

---

## ëª©ì°¨

1. [ì‹¤í˜„ ê°€ëŠ¥ì„± ê²€ì¦ ìš”ì•½](#1-ì‹¤í˜„-ê°€ëŠ¥ì„±-ê²€ì¦-ìš”ì•½)
2. [ì „ì²´ êµ¬í˜„ ì•„í‚¤í…ì²˜](#2-ì „ì²´-êµ¬í˜„-ì•„í‚¤í…ì²˜)
3. [Skills ê¸°ë°˜ êµ¬í˜„](#3-skills-ê¸°ë°˜-êµ¬í˜„)
4. [ë¬´í•œë£¨í”„ ì œì–´ (3ê°€ì§€ ì „ëµ)](#4-ë¬´í•œë£¨í”„-ì œì–´-3ê°€ì§€-ì „ëµ)
5. [ë©€í‹°ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜](#5-ë©€í‹°ì—ì´ì „íŠ¸-ì•„í‚¤í…ì²˜)
6. [ì„¤ì • ë° í™˜ê²½ êµ¬ì„±](#6-ì„¤ì •-ë°-í™˜ê²½-êµ¬ì„±)
7. [íŒŒì¼ ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬](#7-íŒŒì¼-ê¸°ë°˜-ìƒíƒœ-ê´€ë¦¬)
8. [ì™„ì „í•œ êµ¬í˜„ ì½”ë“œ](#8-ì™„ì „í•œ-êµ¬í˜„-ì½”ë“œ)
9. [ì œì•½ì‚¬í•­ ë° ìš°íšŒ ë°©ë²•](#9-ì œì•½ì‚¬í•­-ë°-ìš°íšŒ-ë°©ë²•)
10. [êµ¬í˜„ ë¡œë“œë§µ](#10-êµ¬í˜„-ë¡œë“œë§µ)
11. [**ì‚¬ìš©ì ê²½í—˜ (UX) ê°€ì´ë“œ**](#11-ì‚¬ìš©ì-ê²½í—˜-ux-ê°€ì´ë“œ) â­ NEW

---

## 1. ì‹¤í˜„ ê°€ëŠ¥ì„± ê²€ì¦ ìš”ì•½

### 1.1 v3 í•µì‹¬ ìš”êµ¬ì‚¬í•­ vs Claude Code ê¸°ëŠ¥

| v3 ìš”êµ¬ì‚¬í•­ | Claude Code ì§€ì› | êµ¬í˜„ ë°©ë²• | ë¹„ê³  |
|-------------|-----------------|----------|------|
| **ë¬´í•œ ë£¨í”„** | âœ… ì™„ë²½ ì§€ì› | Stop Hook + Ralph Loop | 3ê°€ì§€ ì „ëµ ê°€ëŠ¥ |
| **íŒŒì¼ ê¸°ë°˜ ìƒíƒœ** | âœ… ì™„ë²½ ì§€ì› | Read/Write/Edit ë„êµ¬ | .research/ ë””ë ‰í† ë¦¬ |
| **WebSearch** | âœ… ë‚´ì¥ ë„êµ¬ | ì§ì ‘ ì‚¬ìš© | ë°±ê·¸ë¼ìš´ë“œ ë¶ˆê°€ |
| **WebFetch** | âœ… ë‚´ì¥ ë„êµ¬ | ì§ì ‘ ì‚¬ìš© | ë°±ê·¸ë¼ìš´ë“œ ë¶ˆê°€ |
| **PDF ì½ê¸°** | âœ… Read ë„êµ¬ | Read(file.pdf) | ìë™ ì²˜ë¦¬ |
| **ë³‘ë ¬ ê²€ìƒ‰** | âœ… ë³‘ë ¬ ë„êµ¬ í˜¸ì¶œ | ë‹¨ì¼ ë©”ì‹œì§€ ë‹¤ì¤‘ ë„êµ¬ | ìë™ ë³‘ë ¬í™” |
| **ë©€í‹°ì—ì´ì „íŠ¸** | âš ï¸ ì œí•œì  | Task tool (2ë‹¨ê³„ ì œí•œ) | ì„œë¸Œâ†’ì„œë¸Œ ë¶ˆê°€ |
| **Extended Thinking** | âœ… í‚¤ì›Œë“œ íŠ¸ë¦¬ê±° | "ultrathink" í¬í•¨ | ìë™ í™œì„±í™” |
| **Loop Drift ë°©ì§€** | âœ… Stop Hook | íŒŒì¼ + Hook ì¡°í•© | êµ¬í˜„ í•„ìš” |
| **Hallucination ë°©ì§€** | âœ… í”„ë¡¬í”„íŠ¸ ê¸°ë°˜ | SKILL.mdì— ê·œì¹™ ëª…ì‹œ | ì†Œí”„íŠ¸ ì œì–´ |
| **ë¹„ìš© ëª¨ë‹ˆí„°ë§** | âš ï¸ ìˆ˜ë™ ì¶”ì  | state.json í† í° ì¶”ì • | ì™„ì „ ìë™í™” ì–´ë ¤ì›€ |
| **Knowledge Graph** | âœ… íŒŒì¼ ê¸°ë°˜ | JSON êµ¬ì¡° | ì™„ì „ êµ¬í˜„ ê°€ëŠ¥ |

### 1.2 í•µì‹¬ ê²°ë¡ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… v3ì˜ ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ì´ Claude Codeì—ì„œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤                      â”‚
â”‚                                                                              â”‚
â”‚  ë‹¨, ë‹¤ìŒ ì¡°ì •ì´ í•„ìš”:                                                        â”‚
â”‚  1. ë©€í‹°ì—ì´ì „íŠ¸: Leadâ†’SubAgent 2ë‹¨ê³„ë¡œ ì œí•œ (SubAgentâ†’SubAgent ë¶ˆê°€)        â”‚
â”‚  2. ë¹„ìš© ì¶”ì : í† í° ì¶”ì •ì¹˜ ì‚¬ìš© (ì •í™•í•œ ì‹¤ì‹œê°„ API ë¹„ìš© ë¶ˆê°€)                  â”‚
â”‚  3. ë³‘ë ¬ ê²€ìƒ‰: WebSearch/WebFetchëŠ” í¬ê·¸ë¼ìš´ë“œì—ì„œë§Œ ì‹¤í–‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì „ì²´ êµ¬í˜„ ì•„í‚¤í…ì²˜

### 2.1 3-Layer ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLAUDE CODE RESEARCH BOT ARCHITECTURE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                  â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ LAYER 1: LOOP CONTROLLER (ì™¸ë¶€ ì œì–´)                                       â•‘  â”‚
â”‚  â•‘                                                                             â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚  research.sh                                                         â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  while [ $iteration -lt $MAX_ITERATIONS ]; do                â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚      check_user_interrupt                                     â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚      check_loop_drift                                         â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚      check_budget                                             â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚      claude /deep-research                                    â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚      check_completion_promise                                 â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â”‚  done                                                         â”‚   â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•‘                                                                             â•‘  â”‚
â”‚  â•‘  ëŒ€ì•ˆ: Stop Hook ê¸°ë°˜ ì„¸ì…˜ ë‚´ ë£¨í”„                                          â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                    â”‚                                             â”‚
â”‚                                    â†“                                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ LAYER 2: SKILL ENGINE (Claude Code ë‚´ë¶€)                                   â•‘  â”‚
â”‚  â•‘                                                                             â•‘  â”‚
â”‚  â•‘  ~/.claude/skills/deep-research/SKILL.md                                   â•‘  â”‚
â”‚  â•‘                                                                             â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚  1. LOAD      â†’ state.json + ìµœê·¼ 3ê°œ ë¡œê·¸ ì½ê¸°                      â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  2. REFLECT   â†’ Extended Thinking (ultrathink)                      â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  3. PLAN      â†’ Query Decomposition                                 â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  4. EXECUTE   â†’ ë³‘ë ¬ ê²€ìƒ‰ (WebSearchÃ—3, WebFetchÃ—N)                 â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  5. VERIFY    â†’ Hallucination ë°©ì§€ 4-Layer                          â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  6. SYNTHESIZEâ†’ Knowledge Graph ì—…ë°ì´íŠ¸                            â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  7. SAVE      â†’ ìƒíƒœ íŒŒì¼ ì €ì¥                                       â”‚  â•‘  â”‚
â”‚  â•‘  â”‚  8. OUTPUT    â†’ [CONTINUE] í‘œì‹œ                                     â”‚  â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                    â”‚                                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                    â†“               â†“               â†“                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                â”‚
â”‚  â•‘ SubAgent:        â•‘ â•‘ SubAgent:        â•‘ â•‘ SubAgent:        â•‘                â”‚
â”‚  â•‘ Web Search       â•‘ â•‘ Academic Search  â•‘ â•‘ Verification     â•‘                â”‚
â”‚  â•‘ (Task tool)      â•‘ â•‘ (Task tool)      â•‘ â•‘ (Task tool)      â•‘                â”‚
â”‚  â•‘                  â•‘ â•‘                  â•‘ â•‘                  â•‘                â”‚
â”‚  â•‘ â€¢ WebSearchÃ—3    â•‘ â•‘ â€¢ arXiv ê²€ìƒ‰     â•‘ â•‘ â€¢ êµì°¨ ê²€ì¦      â•‘                â”‚
â”‚  â•‘ â€¢ WebFetch       â•‘ â•‘ â€¢ PDF ë‹¤ìš´ë¡œë“œ   â•‘ â•‘ â€¢ ë°˜ì¦ íƒìƒ‰      â•‘                â”‚
â”‚  â•‘ â€¢ Context7       â•‘ â•‘ â€¢ Read(PDF)      â•‘ â•‘ â€¢ ì‹ ë¢°ë„ í‰ê°€    â•‘                â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                    â”‚               â”‚               â”‚                            â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                    â†“                                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ LAYER 3: PERSISTENT STORAGE (íŒŒì¼ ì‹œìŠ¤í…œ)                                  â•‘  â”‚
â”‚  â•‘                                                                             â•‘  â”‚
â”‚  â•‘  .research/                                                                 â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ state.json              # í•µì‹¬ ìƒíƒœ (v4 êµ¬ì¡°)                         â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ knowledge_graph.json    # Temporal KG                                 â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ reflexion.json          # ì‹¤íŒ¨ í•™ìŠµ ë©”ëª¨ë¦¬                            â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ findings.md             # ëˆ„ì  ë°œê²¬ (Markdown)                        â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ hypotheses.md           # ê°€ì„¤ íˆìŠ¤í† ë¦¬                               â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ sources.md              # ì°¸ê³  ìë£Œ + ì‹ ë¢°ë„                          â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ search_history.json     # ì¤‘ë³µ ë°©ì§€                                   â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ papers/                 # ë‹¤ìš´ë¡œë“œëœ PDF                              â•‘  â”‚
â”‚  â•‘  â”œâ”€â”€ paper_index.json        # ë…¼ë¬¸ ë©”íƒ€ë°ì´í„°                             â•‘  â”‚
â”‚  â•‘  â””â”€â”€ iteration_logs/         # ë°˜ë³µë³„ ìƒì„¸ ë¡œê·¸                            â•‘  â”‚
â”‚  â•‘                                                                             â•‘  â”‚
â”‚  â•‘  RESEARCH_REPORT.md          # ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ë³´ê³ ì„œ                      â•‘  â”‚
â”‚  â•‘  config.json                 # ìŠ¤í‚¬ ì„¤ì • (ê²€ìƒ‰, ë©”ëª¨ë¦¬, ë¹„ìš©)              â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë””ë ‰í† ë¦¬ êµ¬ì¡° (ì™„ì „í•œ ë²„ì „)

```
í”„ë¡œì íŠ¸_ë£¨íŠ¸/
â”‚
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ settings.json              # í”„ë¡œì íŠ¸ ì„¤ì • (íŒ€ ê³µìœ )
â”‚   â”œâ”€â”€ settings.local.json        # ê°œì¸ ì„¤ì • (git ë¬´ì‹œ)
â”‚   â”œâ”€â”€ CLAUDE.md                  # í”„ë¡œì íŠ¸ ë©”ëª¨ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ skills/
â”‚   â”‚   â””â”€â”€ deep-research/
â”‚   â”‚       â”œâ”€â”€ SKILL.md           # ë©”ì¸ ìŠ¤í‚¬ ì •ì˜
â”‚   â”‚       â””â”€â”€ references/
â”‚   â”‚           â”œâ”€â”€ thinking_tools.md
â”‚   â”‚           â”œâ”€â”€ search_strategies.md
â”‚   â”‚           â””â”€â”€ evaluation_guide.md
â”‚   â”‚
â”‚   â”œâ”€â”€ agents/                    # ì»¤ìŠ¤í…€ ì„œë¸Œì—ì´ì „íŠ¸
â”‚   â”‚   â”œâ”€â”€ web-researcher.md
â”‚   â”‚   â”œâ”€â”€ academic-researcher.md
â”‚   â”‚   â””â”€â”€ fact-checker.md
â”‚   â”‚
â”‚   â”œâ”€â”€ rules/                     # ëª¨ë“ˆí™”ëœ ê·œì¹™
â”‚   â”‚   â”œâ”€â”€ research-protocol.md
â”‚   â”‚   â””â”€â”€ citation-rules.md
â”‚   â”‚
â”‚   â””â”€â”€ hooks/                     # Hook ìŠ¤í¬ë¦½íŠ¸
â”‚       â”œâ”€â”€ stop-hook.py
â”‚       â””â”€â”€ pre-tool-use.sh
â”‚
â”œâ”€â”€ .mcp.json                      # MCP ì„œë²„ ì„¤ì •
â”‚
â”œâ”€â”€ research.sh                    # ë©”ì¸ ë£¨í”„ ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ .research/                     # ë¦¬ì„œì¹˜ ë°ì´í„° (git ë¬´ì‹œ)
â”‚   â”œâ”€â”€ state.json
â”‚   â”œâ”€â”€ knowledge_graph.json
â”‚   â”œâ”€â”€ reflexion.json
â”‚   â”œâ”€â”€ findings.md
â”‚   â”œâ”€â”€ hypotheses.md
â”‚   â”œâ”€â”€ sources.md
â”‚   â”œâ”€â”€ search_history.json
â”‚   â”œâ”€â”€ papers/
â”‚   â”‚   â”œâ”€â”€ 1706.03762.pdf
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ paper_index.json
â”‚   â””â”€â”€ iteration_logs/
â”‚       â”œâ”€â”€ 001.md
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ RESEARCH_REPORT.md             # ìµœì¢…/ì‹¤ì‹œê°„ ë³´ê³ ì„œ
â”œâ”€â”€ config.json                    # ìŠ¤í‚¬ ì„¤ì •
â””â”€â”€ CLAUDE.md                      # ë£¨íŠ¸ í”„ë¡œì íŠ¸ ë©”ëª¨ë¦¬
```

---

## 3. Skills ê¸°ë°˜ êµ¬í˜„

### 3.1 SKILL.md ì™„ì „í•œ êµ¬í˜„

**íŒŒì¼ ìœ„ì¹˜**: `~/.claude/skills/deep-research/SKILL.md` (ê°œì¸) ë˜ëŠ” `.claude/skills/deep-research/SKILL.md` (í”„ë¡œì íŠ¸)

```yaml
---
name: deep-research
description: ì‚¬ìš©ìê°€ ì¤‘ë‹¨í•  ë•Œê¹Œì§€ ë¬´í•œ ë°˜ë³µí•˜ë©° ì£¼ì œë¥¼ ì‹¬ì¸µ ì—°êµ¬í•©ë‹ˆë‹¤. ë³µì¡í•œ ì§ˆë¬¸, í•™ìˆ ì  ì¡°ì‚¬, ë‹¤ê°ë„ ë¶„ì„ì´ í•„ìš”í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. /deep-research [ì§ˆë¬¸]ìœ¼ë¡œ í˜¸ì¶œí•©ë‹ˆë‹¤.
argument-hint: [research question]
disable-model-invocation: true
allowed-tools: WebSearch, WebFetch, Read, Write, Edit, Bash, Glob, Grep, Task
---

# Deep Research Skill v4

ë‹¹ì‹ ì€ **ë¬´í•œ ë°˜ë³µ ì‹¬ì¸µ ë¦¬ì„œì¹˜ ì—ì´ì „íŠ¸**ì…ë‹ˆë‹¤.

## í˜„ì¬ ìƒíƒœ ë¡œë“œ

í˜„ì¬ ì—°êµ¬ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤:
!`cat .research/state.json 2>/dev/null || echo '{"iteration":{"current":0}}'`

ìµœê·¼ ê²€ìƒ‰ íˆìŠ¤í† ë¦¬:
!`cat .research/search_history.json 2>/dev/null || echo '{"queries":[]}'`

## ì ˆëŒ€ ê·œì¹™

1. **ì ˆëŒ€ ìŠ¤ìŠ¤ë¡œ ì¢…ë£Œí•˜ì§€ ë§ˆì„¸ìš”** - ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì¤‘ë‹¨í•  ë•Œê¹Œì§€ ê³„ì†í•©ë‹ˆë‹¤
2. ë§¤ ì‚¬ì´í´ë§ˆë‹¤ ë°˜ë“œì‹œ **ìƒˆë¡œìš´ ê²€ìƒ‰**ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤
3. ê°€ì„¤ì˜ í™•ì‹ ë„ê°€ 95%ë¥¼ ë„˜ì–´ë„ **ë°˜ì¦ ì¦ê±°ë¥¼ ê³„ì† íƒìƒ‰**í•©ë‹ˆë‹¤
4. ê°™ì€ ê²€ìƒ‰ì„ **3ë²ˆ ì´ìƒ ë°˜ë³µí•˜ë©´ ì „ëµ ë³€ê²½ í•„ìˆ˜**ì…ë‹ˆë‹¤
5. "ì¶©ë¶„í•˜ë‹¤"ê³  íŒë‹¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ - **í•­ìƒ ë” ê¹Šì´** íŒŒê³ ë“­ë‹ˆë‹¤

## ì‚¬ì´í´ ì‹¤í–‰ íë¦„

### 1. LOAD (ìƒíƒœ ë¡œë“œ)

```
í•„ìˆ˜ íŒŒì¼ ì½ê¸°:
- .research/state.json â†’ í˜„ì¬ ìƒíƒœ, ê°€ì„¤, ì§„í–‰ë„
- .research/findings.md â†’ ëˆ„ì  ë°œê²¬ ì‚¬í•­
- .research/reflexion.json â†’ ì‹¤íŒ¨ í•™ìŠµ ë©”ëª¨ë¦¬
- .research/search_history.json â†’ ì¤‘ë³µ ë°©ì§€

ì§ˆë¬¸ì´ ìƒˆë¡œìš´ ê²½ìš°:
- state.json ì´ˆê¸°í™”
- ì§ˆë¬¸ ë¶„í•´ (Query Decomposition)
```

### 2. REFLECT (ë¶„ì„) - ultrathink

Extended Thinkingì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ìŒì„ ê¹Šì´ ë¶„ì„í•©ë‹ˆë‹¤:

- ì§€ê¸ˆê¹Œì§€ ì•Œê²Œ ëœ ê²ƒì€ ë¬´ì—‡ì¸ê°€?
- ì•„ì§ ëª¨ë¥´ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€?
- í˜„ì¬ ê°€ì„¤ì˜ ì‹ ë¢°ë„ëŠ”?
- ë§‰í˜€ ìˆë‹¤ë©´ ì™œ ë§‰í˜€ ìˆëŠ”ê°€?
- ì–´ë–¤ ì‚¬ê³  ë„êµ¬ê°€ í•„ìš”í•œê°€? (ì œ1ì›ì¹™, ì˜¤ì»´ì˜ ë©´ë„ë‚ , ë°˜ì¦ ê°€ëŠ¥ì„±)

### 3. PLAN (ê³„íš)

ì´ë²ˆ iterationì˜ ëª©í‘œë¥¼ ì„¤ì •í•©ë‹ˆë‹¤:

```
1. ëª©í‘œ ì •ì˜: "ì´ë²ˆ ë°˜ë³µì—ì„œ ë‹¬ì„±í•  ê²ƒ"
2. ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„± (3-5ê°œ, ë‹¤ì–‘ì„± í™•ë³´):
   - ì¼ë°˜ ì›¹ ê²€ìƒ‰ ì¿¼ë¦¬
   - ê¸°ìˆ /í•™ìˆ  ê²€ìƒ‰ ì¿¼ë¦¬
   - ë°˜ì¦ ì¦ê±° íƒìƒ‰ ì¿¼ë¦¬
3. ê²€ìƒ‰ ì „ëµ ì„ íƒ:
   - Web Search (ìµœì‹  ì •ë³´, ì¼ë°˜)
   - Academic Search (arxiv, papers)
   - Verification (êµì°¨ ê²€ì¦)
```

### 4. EXECUTE (ì‹¤í–‰)

**ë³‘ë ¬ë¡œ ê²€ìƒ‰ì„ ì‹¤í–‰í•©ë‹ˆë‹¤** (ë‹¨ì¼ ë©”ì‹œì§€ì— ì—¬ëŸ¬ ë„êµ¬ í˜¸ì¶œ):

```
WebSearch("query 1")  â† ë³‘ë ¬
WebSearch("query 2")  â† ë³‘ë ¬
WebSearch("query 3")  â† ë³‘ë ¬
```

ìœ ë§í•œ URL ë°œê²¬ ì‹œ:
```
WebFetch("url 1", "í•µì‹¬ ë‚´ìš© ì¶”ì¶œ")  â† ë³‘ë ¬
WebFetch("url 2", "í•µì‹¬ ë‚´ìš© ì¶”ì¶œ")  â† ë³‘ë ¬
```

í•™ìˆ  ë…¼ë¬¸ í•„ìš” ì‹œ:
```
WebSearch("site:arxiv.org {í‚¤ì›Œë“œ}")
â†’ PDF URL í™•ì¸
â†’ curlë¡œ ë‹¤ìš´ë¡œë“œ (Bash)
â†’ Read(PDF íŒŒì¼)ë¡œ ë¶„ì„
```

### 5. VERIFY (ê²€ì¦) - Hallucination ë°©ì§€

ëª¨ë“  ì‚¬ì‹¤ì  ì£¼ì¥ì— ë‹¤ìŒì„ ì ìš©í•©ë‹ˆë‹¤:

**Layer 1: Source Grounding**
- ì†ŒìŠ¤ ì—†ëŠ” ì£¼ì¥ â†’ [?] íƒœê·¸
- "ëª¨ë¥¸ë‹¤"ê³  í‘œí˜„ ê°€ëŠ¥

**Layer 2: Cross-Validation**
- ë‹¨ì¼ ì†ŒìŠ¤: ì‹ ë¢°ë„ 0.6
- 2ê°œ ì†ŒìŠ¤ ì¼ì¹˜: ì‹ ë¢°ë„ 0.8
- 3ê°œ+ ì†ŒìŠ¤ ì¼ì¹˜: ì‹ ë¢°ë„ 0.95
- ëª¨ìˆœ ë°œê²¬: âš  í”Œë˜ê·¸

**Layer 3: Self-Consistency**
- ì¤‘ìš” ê²°ë¡ ì€ ë‹¤ë¥¸ ê°ë„ì—ì„œ ì¬ê²€í† 

**Layer 4: Confidence Tagging**
- âœ“âœ“ VERIFIED (ë‹¤ìˆ˜ ì‹ ë¢° ì†ŒìŠ¤)
- âœ“ HIGH (ë‹¨ì¼ ì‹ ë¢° ì†ŒìŠ¤)
- ~ LIKELY (ì¶”ì •)
- ? UNCERTAIN (ë¶ˆí™•ì‹¤)
- âš  CONTRADICTED (ëª¨ìˆœ)

### 6. SYNTHESIZE (ì¢…í•©)

ìƒˆë¡œìš´ ì •ë³´ë¥¼ ê¸°ì¡´ ì§€ì‹ê³¼ í†µí•©í•©ë‹ˆë‹¤:

```
1. Knowledge Graph ì—…ë°ì´íŠ¸ (.research/knowledge_graph.json)
   - ìƒˆë¡œìš´ ë…¸ë“œ/ì—£ì§€ ì¶”ê°€
   - ì‹ ë¢°ë„ ì—…ë°ì´íŠ¸
   - ëª¨ìˆœ íƒì§€ ë° ê¸°ë¡

2. ê°€ì„¤ í‰ê°€ ë° ì—…ë°ì´íŠ¸
   - ì§€ì§€ ì¦ê±° ì¶”ê°€
   - ë°˜ì¦ ì¦ê±° ì¶”ê°€
   - í™•ì‹ ë„ ì¬ê³„ì‚°

3. Reflexion ë©”ëª¨ë¦¬ ì—…ë°ì´íŠ¸ (.research/reflexion.json)
   - ì„±ê³µ/ì‹¤íŒ¨ íŒ¨í„´ ê¸°ë¡
   - í•™ìŠµëœ êµí›ˆ ì¶”ê°€
```

### 7. SAVE (ì €ì¥)

ë‹¤ìŒ íŒŒì¼ë“¤ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:

```
.research/state.json:
- iteration.current += 1
- hypotheses ì—…ë°ì´íŠ¸
- next_actions ì„¤ì •
- metrics ì—…ë°ì´íŠ¸

.research/findings.md:
- ì´ë²ˆ iterationì˜ í•µì‹¬ ë°œê²¬ ì¶”ê°€

.research/search_history.json:
- ì‹¤í–‰ëœ ì¿¼ë¦¬ ì¶”ê°€

.research/iteration_logs/NNN.md:
- ìƒì„¸ ë¡œê·¸ ì‘ì„±
```

### 8. OUTPUT (ì¶œë ¥)

ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤:

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š Iteration #N ì™„ë£Œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” ì´ë²ˆ ë°œê²¬:
   - (í•µì‹¬ ë°œê²¬ 1) [ì‹ ë¢°ë„ íƒœê·¸]
   - (í•µì‹¬ ë°œê²¬ 2) [ì‹ ë¢°ë„ íƒœê·¸]
   - (í•µì‹¬ ë°œê²¬ 3) [ì‹ ë¢°ë„ íƒœê·¸]

ğŸ“ˆ í˜„ì¬ ê°€ì„¤: (ê°€ì„¤ ë‚´ìš©)
   í™•ì‹ ë„: N% | ì§€ì§€ ì¦ê±°: Mê°œ | ë°˜ì¦: Kê°œ

ğŸ¯ ë‹¤ìŒ ê³„íš: (ë‹¤ìŒ iteration ì˜ˆê³ )

ğŸ“Š ì§„í–‰ë„: X% (ë‹µë³€ëœ ì„œë¸Œì§ˆë¬¸ / ì „ì²´)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[CONTINUE]
```

## ì‚¬ê³  ë„êµ¬ (ìƒí™©ë³„ ì„ íƒ)

| ìƒí™© | ë„êµ¬ | ì ìš© ë°©ì‹ |
|------|------|-----------|
| ë§‰í ë•Œ | **ì œ1ì›ì¹™** | ê¸°ì¡´ ê°€ì •ì„ ë²„ë¦¬ê³  ê·¼ë³¸ ì›ë¦¬ë¶€í„° ì¬êµ¬ì„± |
| ì •ë³´ ê³¼ë‹¤ | **ì˜¤ì»´ì˜ ë©´ë„ë‚ ** | ë³µì¡í•œ ì„¤ëª…ë³´ë‹¤ ë‹¨ìˆœí•œ ì„¤ëª… ìš°ì„  |
| í™•ì‹ ì´ ìƒê¸¸ ë•Œ | **ë°˜ì¦ ê°€ëŠ¥ì„±** | ê°€ì„¤ì„ ë°˜ë°•í•  ì¦ê±° ì ê·¹ íƒìƒ‰ |
| ìƒˆ ë°©í–¥ í•„ìš” | **ê³¼í•™ì  ë°©ë²•ë¡ ** | ê´€ì°°â†’ê°€ì„¤â†’ì‹¤í—˜â†’ë¶„ì„ ì‚¬ì´í´ |

## Loop Drift ë°©ì§€ ê·œì¹™

1. ê°™ì€ ê²€ìƒ‰ ì¿¼ë¦¬ 2íšŒ ë°˜ë³µ ì‹œ â†’ ì¿¼ë¦¬ ë³€í˜• í•„ìˆ˜
2. ê°™ì€ í–‰ë™ íŒ¨í„´ 3íšŒ ë°˜ë³µ ì‹œ â†’ ì „ëµ ë³€ê²½ í•„ìˆ˜
3. 5íšŒ ì—°ì† ìƒˆ ì •ë³´ ì—†ìŒ â†’ ë‹¤ë¥¸ ì ‘ê·¼ë²• ì‹œë„
4. ë§‰í˜ ê°ì§€ ì‹œ â†’ reflexion ë©”ëª¨ë¦¬ ì°¸ì¡°í•˜ì—¬ ëŒ€ì•ˆ íƒìƒ‰

**search_history.jsonì„ ë°˜ë“œì‹œ í™•ì¸í•˜ê³  ì¤‘ë³µ ê²€ìƒ‰ì„ í”¼í•˜ì„¸ìš”!**

## ì¢…ë£Œ ì¡°ê±´

ì´ ìŠ¤í‚¬ì€ **ì ˆëŒ€ ìŠ¤ìŠ¤ë¡œ ì¢…ë£Œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.
ì¢…ë£ŒëŠ” ì˜¤ì§ ë‹¤ìŒ ìƒí™©ì—ì„œë§Œ ë°œìƒí•©ë‹ˆë‹¤:
- ì‚¬ìš©ìê°€ 'q' ë˜ëŠ” 's' ì…ë ¥ (ì™¸ë¶€ ë£¨í”„ì—ì„œ)
- max_iterations ë„ë‹¬ (ì™¸ë¶€ ë£¨í”„ì—ì„œ)
- state.jsonì˜ statusê°€ "completed"ë¡œ ë³€ê²½ (ì‚¬ìš©ì ëª…ì‹œì  ìš”ì²­ ì‹œì—ë§Œ)

**ëª¨ë“  ì¶œë ¥ì€ [CONTINUE] ë¡œ ëë‚©ë‹ˆë‹¤.**

## ì¸ìˆ˜ ì²˜ë¦¬

- ì²« ì‹¤í–‰ ì‹œ: `$ARGUMENTS`ë¥¼ ì—°êµ¬ ì§ˆë¬¸ìœ¼ë¡œ ì‚¬ìš©
- ì´í›„ ì‹¤í–‰: state.jsonì˜ question.original ì‚¬ìš©
```

### 3.2 ì§€ì› íŒŒì¼ë“¤

**references/thinking_tools.md**:
```markdown
# ì‚¬ê³  ë„êµ¬ ìƒì„¸ ê°€ì´ë“œ

## 1. ì œ1ì›ì¹™ ì‚¬ê³  (First Principles)
- ì–¸ì œ: ë§‰íˆê±°ë‚˜ ê¸°ì¡´ ê°€ì •ì´ ì˜ëª»ëœ ê²ƒ ê°™ì„ ë•Œ
- ë°©ë²•:
  1. í˜„ì¬ ê°€ì •ë“¤ì„ ëª¨ë‘ ë‚˜ì—´
  2. "ì´ê²ƒì´ ë°˜ë“œì‹œ ì°¸ì´ì–´ì•¼ í•˜ëŠ”ê°€?" ì§ˆë¬¸
  3. ê·¼ë³¸ ì›ë¦¬ë§Œ ë‚¨ê¸°ê³  ì¬êµ¬ì„±
- ì˜ˆì‹œ: "APIê°€ ëŠë¦¬ë‹¤" â†’ "ì™œ ëŠë¦°ê°€?" â†’ "ë„¤íŠ¸ì›Œí¬? ì„œë²„? ì•Œê³ ë¦¬ì¦˜?"

## 2. ì˜¤ì»´ì˜ ë©´ë„ë‚  (Occam's Razor)
- ì–¸ì œ: ì •ë³´ê°€ ë„ˆë¬´ ë§ê±°ë‚˜ ë³µì¡í•  ë•Œ
- ë°©ë²•:
  1. ëª¨ë“  ê°€ëŠ¥í•œ ì„¤ëª… ë‚˜ì—´
  2. ë¶ˆí•„ìš”í•œ ê°€ì •ì„ ì œê±°
  3. ê°€ì¥ ë‹¨ìˆœí•œ ì„¤ëª… ì„ íƒ
- ì˜ˆì‹œ: ë²„ê·¸ì˜ ì›ì¸ â†’ ë³µì¡í•œ race conditionë³´ë‹¤ ë‹¨ìˆœí•œ typo ë¨¼ì € í™•ì¸

## 3. ë°˜ì¦ ê°€ëŠ¥ì„± (Falsifiability)
- ì–¸ì œ: ê°€ì„¤ì— í™•ì‹ ì´ ìƒê¸¸ ë•Œ (ìœ„í—˜ ì‹ í˜¸!)
- ë°©ë²•:
  1. "ì´ ê°€ì„¤ì´ í‹€ë ¸ë‹¤ë©´ ì–´ë–¤ ì¦ê±°ê°€ ìˆì„ê¹Œ?"
  2. ê·¸ ì¦ê±°ë¥¼ ì ê·¹ì ìœ¼ë¡œ ê²€ìƒ‰
  3. ë°œê²¬ ì‹œ ê°€ì„¤ ìˆ˜ì •, ë¯¸ë°œê²¬ ì‹œ í™•ì‹ ë„ ìƒìŠ¹
- ì˜ˆì‹œ: "Transformerê°€ ìµœê³ " â†’ "Transformerê°€ ì‹¤íŒ¨í•œ ì‚¬ë¡€ ê²€ìƒ‰"

## 4. ê³¼í•™ì  ë°©ë²•ë¡  (Scientific Method)
- ì–¸ì œ: ìƒˆë¡œìš´ ë°©í–¥ì´ í•„ìš”í•  ë•Œ
- ë°©ë²•:
  1. ê´€ì°°: í˜„ì¬ ì•Œë ¤ì§„ ì‚¬ì‹¤ ì •ë¦¬
  2. ê°€ì„¤: ì„¤ëª… ê°€ëŠ¥í•œ ê°€ì„¤ ì œì•ˆ
  3. ì‹¤í—˜: ê²€ìƒ‰ìœ¼ë¡œ ê°€ì„¤ í…ŒìŠ¤íŠ¸
  4. ë¶„ì„: ê²°ê³¼ í•´ì„
  5. ìˆ˜ì •: ê°€ì„¤ ì—…ë°ì´íŠ¸
```

---

## 4. ë¬´í•œë£¨í”„ ì œì–´ (3ê°€ì§€ ì „ëµ)

Claude Codeì—ì„œ ë¬´í•œë£¨í”„ë¥¼ êµ¬í˜„í•˜ëŠ” **3ê°€ì§€ ê²€ì¦ëœ ì „ëµ**:

### 4.1 ì „ëµ A: Bash ë£¨í”„ + Fresh Context (ê¶Œì¥)

**ì¥ì **: ê°€ì¥ ì•ˆì •ì , ì™¸ë¶€ì—ì„œ ì™„ì „ ì œì–´ ê°€ëŠ¥, ì»¨í…ìŠ¤íŠ¸ ì˜¤ë²„í”Œë¡œìš° ë°©ì§€

```bash
#!/bin/bash
#==============================================================================
# research.sh - ë¬´í•œë£¨í”„ ë¦¬ì„œì¹˜ ì»¨íŠ¸ë¡¤ëŸ¬
#==============================================================================

# ì„¤ì •
MAX_ITERATIONS=${1:-100}
RESEARCH_DIR=".research"
STATE_FILE="$RESEARCH_DIR/state.json"
COMPLETION_PROMISE="<promise>RESEARCH_COMPLETE</promise>"
BUDGET_LIMIT_USD=10.0

#==============================================================================
# ì´ˆê¸°í™”
#==============================================================================
init_research() {
    mkdir -p "$RESEARCH_DIR/iteration_logs"
    mkdir -p "$RESEARCH_DIR/papers"

    if [ ! -f "$STATE_FILE" ]; then
        cat > "$STATE_FILE" << EOF
{
  "version": "4.0",
  "session_id": "research_$(date +%Y%m%d_%H%M%S)",
  "question": {
    "original": "",
    "decomposed": []
  },
  "iteration": {
    "current": 0,
    "max": $MAX_ITERATIONS,
    "last_compaction": 0
  },
  "status": "initialized",
  "hypotheses": [],
  "knowledge_summary": {
    "confirmed_facts": 0,
    "uncertain_claims": 0,
    "contradictions": 0
  },
  "search_history": [],
  "loop_drift": {
    "consecutive_same_action": 0,
    "last_action_hash": ""
  },
  "metrics": {
    "total_searches": 0,
    "successful_searches": 0,
    "token_usage_estimate": 0,
    "cost_estimate_usd": 0.0
  }
}
EOF
    fi

    # ë‹¤ë¥¸ íŒŒì¼ë“¤ ì´ˆê¸°í™”
    [ ! -f "$RESEARCH_DIR/findings.md" ] && echo "# Research Findings\n\n---\n" > "$RESEARCH_DIR/findings.md"
    [ ! -f "$RESEARCH_DIR/hypotheses.md" ] && echo "# Hypothesis History\n\n---\n" > "$RESEARCH_DIR/hypotheses.md"
    [ ! -f "$RESEARCH_DIR/sources.md" ] && echo "# Sources & References\n\n---\n" > "$RESEARCH_DIR/sources.md"
    [ ! -f "$RESEARCH_DIR/reflexion.json" ] && echo '{"memories":[],"aggregated_lessons":{}}' > "$RESEARCH_DIR/reflexion.json"
    [ ! -f "$RESEARCH_DIR/knowledge_graph.json" ] && echo '{"nodes":[],"edges":[],"temporal_markers":{}}' > "$RESEARCH_DIR/knowledge_graph.json"
    [ ! -f "$RESEARCH_DIR/search_history.json" ] && echo '{"queries":[]}' > "$RESEARCH_DIR/search_history.json"
}

#==============================================================================
# Loop Drift íƒì§€
#==============================================================================
check_loop_drift() {
    local consecutive=$(jq -r '.loop_drift.consecutive_same_action // 0' "$STATE_FILE")
    local threshold=3

    if [ "$consecutive" -ge "$threshold" ]; then
        echo "âš ï¸  Loop Drift detected! ($consecutive consecutive same actions)"
        echo "   Forcing strategy change..."
        jq '.loop_drift.consecutive_same_action = 0 | .status = "strategy_change_required"' \
            "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"
        return 1
    fi
    return 0
}

#==============================================================================
# ì˜ˆì‚° ì²´í¬
#==============================================================================
check_budget() {
    local spent=$(jq -r '.metrics.cost_estimate_usd // 0' "$STATE_FILE")
    local threshold=$(echo "$BUDGET_LIMIT_USD * 0.8" | bc)

    if (( $(echo "$spent > $threshold" | bc -l) )); then
        echo "âš ï¸  Budget warning: \$$spent / \$$BUDGET_LIMIT_USD (80% reached)"
    fi

    if (( $(echo "$spent > $BUDGET_LIMIT_USD" | bc -l) )); then
        echo "ğŸ›‘  Budget exceeded! Stopping research."
        jq '.status = "budget_exceeded"' "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"
        return 1
    fi
    return 0
}

#==============================================================================
# ì§„í–‰ ìƒí™© ì²´í¬
#==============================================================================
check_progress() {
    local iteration=$(jq -r '.iteration.current' "$STATE_FILE")
    local interval=5

    if [ $((iteration % interval)) -eq 0 ] && [ "$iteration" -gt 0 ]; then
        local confirmed=$(jq -r '.knowledge_summary.confirmed_facts // 0' "$STATE_FILE")
        echo "ğŸ“Š Progress check at iteration $iteration: $confirmed confirmed facts"
    fi
}

#==============================================================================
# ë©”ì¸ ë£¨í”„
#==============================================================================
run_research() {
    local question="$1"
    local iteration=0

    # ì§ˆë¬¸ ì„¤ì • (ì²« ì‹¤í–‰ ì‹œ)
    if [ -n "$question" ]; then
        jq --arg q "$question" '.question.original = $q | .status = "running"' \
            "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"
    fi

    echo ""
    echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo "â•‘           ğŸ”¬ Deep Research Session Started                     â•‘"
    echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
    echo "â•‘  Max iterations: $MAX_ITERATIONS"
    echo "â•‘  Budget limit: \$$BUDGET_LIMIT_USD"
    echo "â•‘  Press 'q' to quit, 's' to pause"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo ""

    while [ $iteration -lt $MAX_ITERATIONS ]; do
        # Iteration ì¹´ìš´í„° ì—…ë°ì´íŠ¸
        jq --argjson i "$((iteration + 1))" \
            '.iteration.current = $i | .status = "running"' \
            "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"

        echo ""
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
        echo "ğŸ”¬ Research Iteration #$((iteration + 1)) / $MAX_ITERATIONS"
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

        # ì•ˆì „ ì²´í¬ë“¤
        check_loop_drift || true
        check_budget || break
        check_progress

        # Claude Code ìŠ¤í‚¬ ì‹¤í–‰ (ìƒˆë¡œìš´ ì»¨í…ìŠ¤íŠ¸)
        output=$(claude /deep-research "Continue research iteration #$((iteration + 1))" 2>&1)

        echo "$output"

        # Completion Promise ì²´í¬
        if echo "$output" | grep -q "$COMPLETION_PROMISE"; then
            echo ""
            echo "âœ… Research completed successfully!"
            jq '.status = "completed"' "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"
            break
        fi

        # ìƒíƒœ íŒŒì¼ ì²´í¬
        status=$(jq -r '.status' "$STATE_FILE")
        if [ "$status" = "completed" ] || [ "$status" = "paused" ]; then
            echo "Research $status at iteration $((iteration + 1))"
            break
        fi

        # ì‚¬ìš©ì ì¸í„°ëŸ½íŠ¸ ì²´í¬ (ë…¼ë¸”ë¡œí‚¹)
        read -t 1 -n 1 input 2>/dev/null || true
        case "$input" in
            q|Q)
                jq '.status = "stopped_by_user"' "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"
                echo ""
                echo "ğŸ›‘ Research stopped by user"
                break
                ;;
            s|S)
                jq '.status = "paused"' "$STATE_FILE" > tmp.json && mv tmp.json "$STATE_FILE"
                echo ""
                echo "â¸ï¸  Research paused. Run './research.sh' to resume."
                break
                ;;
        esac

        ((iteration++))
    done

    # ìµœì¢… ë³´ê³ ì„œ
    echo ""
    echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
    echo "â•‘           ğŸ“Š Research Session Complete                         â•‘"
    echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
    echo "â•‘  ğŸ“„ Final Report: RESEARCH_REPORT.md"
    echo "â•‘  ğŸ“ Research Data: $RESEARCH_DIR/"
    echo "â•‘  ğŸ“ˆ Iterations: $((iteration + 1))"
    cost=$(jq -r '.metrics.cost_estimate_usd // 0' "$STATE_FILE")
    echo "â•‘  ğŸ’° Estimated Cost: \$$cost"
    echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
}

#==============================================================================
# ì‹¤í–‰
#==============================================================================
init_research

if [ -n "$2" ]; then
    # ìƒˆ ì§ˆë¬¸ìœ¼ë¡œ ì‹œì‘
    run_research "$2"
else
    # ê¸°ì¡´ ì„¸ì…˜ ê³„ì† ë˜ëŠ” ì¬ê°œ
    run_research ""
fi
```

**ì‚¬ìš©ë²•**:
```bash
chmod +x research.sh

# ìƒˆ ì—°êµ¬ ì‹œì‘ (ìµœëŒ€ 50íšŒ)
./research.sh 50 "Transformerì˜ attention mechanismì´ ì™œ íš¨ê³¼ì ì¸ê°€?"

# ê¸°ì¡´ ì—°êµ¬ ì¬ê°œ
./research.sh

# ê¸°ë³¸ê°’ (100íšŒ)
./research.sh 100 "ì§ˆë¬¸"
```

### 4.2 ì „ëµ B: Stop Hook ê¸°ë°˜ ì„¸ì…˜ ë‚´ ë£¨í”„

**ì¥ì **: ë‹¨ì¼ ì„¸ì…˜ ìœ ì§€, ì»¨í…ìŠ¤íŠ¸ ì¬ì‚¬ìš© ê°€ëŠ¥

**.claude/settings.json**:
```json
{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python3 .claude/hooks/stop-hook.py",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
```

**.claude/hooks/stop-hook.py**:
```python
#!/usr/bin/env python3
"""
Stop Hook: ë¦¬ì„œì¹˜ ë£¨í”„ ê³„ì† ì—¬ë¶€ ê²°ì •
Exit code 0 + JSONìœ¼ë¡œ decision ë°˜í™˜
"""

import json
import sys
import os

STATE_FILE = ".research/state.json"
MAX_ITERATIONS = 100

def load_state():
    try:
        with open(STATE_FILE, 'r') as f:
            return json.load(f)
    except FileNotFoundError:
        return {"iteration": {"current": 0, "max": MAX_ITERATIONS}, "status": "initialized"}

def main():
    # Hook ì…ë ¥ ì½ê¸° (stdin)
    try:
        hook_input = json.load(sys.stdin)
    except:
        hook_input = {}

    state = load_state()
    iteration = state.get("iteration", {}).get("current", 0)
    max_iter = state.get("iteration", {}).get("max", MAX_ITERATIONS)
    status = state.get("status", "running")

    # ì¢…ë£Œ ì¡°ê±´ ì²´í¬
    should_stop = False
    reason = ""

    # 1. ìƒíƒœê°€ ì™„ë£Œ/ì •ì§€ì¸ ê²½ìš°
    if status in ["completed", "paused", "stopped_by_user", "budget_exceeded"]:
        should_stop = True
        reason = f"Research {status}"

    # 2. ìµœëŒ€ ë°˜ë³µ ë„ë‹¬
    elif iteration >= max_iter:
        should_stop = True
        reason = f"Maximum iterations ({max_iter}) reached"

    # 3. stop_hook_active ì²´í¬ (ë¬´í•œ ë£¨í”„ ë°©ì§€)
    elif hook_input.get("stop_hook_active", False):
        # ì´ë¯¸ Stop Hookìœ¼ë¡œ ê³„ì† ì¤‘
        # ì¶”ê°€ ì•ˆì „ì¥ì¹˜: ì—°ì† 10íšŒ ì´ìƒì´ë©´ ê°•ì œ ì¢…ë£Œ
        if iteration > 10 and state.get("loop_drift", {}).get("consecutive_same_action", 0) > 5:
            should_stop = True
            reason = "Loop drift detected, forcing stop"

    # ê²°ì • ì¶œë ¥
    if should_stop:
        output = {
            "decision": "allow",  # ì¢…ë£Œ í—ˆìš©
            "reason": reason
        }
    else:
        output = {
            "decision": "block",  # ê³„ì† ê°•ì œ
            "reason": f"Iteration {iteration}/{max_iter} - Continue research. Check .research/state.json for current progress."
        }

    print(json.dumps(output))
    sys.exit(0)

if __name__ == "__main__":
    main()
```

### 4.3 ì „ëµ C: Prompt ê¸°ë°˜ Stop Hook

**ì¥ì **: LLMì´ ì§ì ‘ ì¢…ë£Œ ì—¬ë¶€ íŒë‹¨

**.claude/settings.json**:
```json
{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "You are evaluating whether to continue the research loop.\n\nCurrent state:\n!`cat .research/state.json 2>/dev/null || echo '{}'`\n\nEvaluate:\n1. Has the original question been fully answered?\n2. Are there still unexplored areas?\n3. Is the current hypothesis confidence > 95%?\n4. Have we reached max iterations?\n\nRespond with EXACTLY one of:\n- {\"ok\": false, \"reason\": \"Continue because...\"} to keep researching\n- {\"ok\": true} to allow stopping\n\nIMPORTANT: Default to continuing unless research is truly complete."
          }
        ]
      }
    ]
  }
}
```

### 4.4 ì „ëµ ë¹„êµ

| ì „ëµ | ì»¨í…ìŠ¤íŠ¸ | í† í° íš¨ìœ¨ | ì œì–´ ì •ë°€ë„ | êµ¬í˜„ ë³µì¡ë„ | ê¶Œì¥ ìƒí™© |
|------|----------|----------|------------|------------|----------|
| **A: Bash ë£¨í”„** | Fresh (ë§¤ë²ˆ) | ë‚®ìŒ | ë†’ìŒ | ë‚®ìŒ | ì¥ê¸° ì—°êµ¬, ì•ˆì •ì„± ì¤‘ì‹œ |
| **B: Command Hook** | ìœ ì§€ | ë†’ìŒ | ì¤‘ê°„ | ì¤‘ê°„ | ì§§ì€ ì—°êµ¬, ì»¨í…ìŠ¤íŠ¸ ì¤‘ì‹œ |
| **C: Prompt Hook** | ìœ ì§€ | ë†’ìŒ | LLM ì˜ì¡´ | ë†’ìŒ | ì ì‘í˜• ì¢…ë£Œ í•„ìš” ì‹œ |

**ê¶Œì¥**: ì „ëµ A (Bash ë£¨í”„) - ê°€ì¥ ì•ˆì •ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥

---

## 5. ë©€í‹°ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜

### 5.1 Claude Codeì˜ ì„œë¸Œì—ì´ì „íŠ¸ ì œì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Code SubAgent ì œì•½ì‚¬í•­                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  âœ… ê°€ëŠ¥:                                                                    â”‚
â”‚  â€¢ Lead Agent â†’ SubAgent (1ë‹¨ê³„)                                            â”‚
â”‚  â€¢ ë³‘ë ¬ SubAgent ì‹¤í–‰                                                        â”‚
â”‚  â€¢ SubAgentì—ì„œ WebSearch, WebFetch, Read, Write, Bash ì‚¬ìš©                 â”‚
â”‚                                                                              â”‚
â”‚  âŒ ë¶ˆê°€ëŠ¥:                                                                   â”‚
â”‚  â€¢ SubAgent â†’ SubAgent (2ë‹¨ê³„ ì¤‘ì²©)                                         â”‚
â”‚  â€¢ ë°±ê·¸ë¼ìš´ë“œì—ì„œ WebSearch, WebFetch, MCP ë„êµ¬                             â”‚
â”‚  â€¢ SubAgent ê°„ ì§ì ‘ ìƒíƒœ ê³µìœ                                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 2ë‹¨ê³„ ë©€í‹°ì—ì´ì „íŠ¸ êµ¬í˜„

**ì»¤ìŠ¤í…€ ì„œë¸Œì—ì´ì „íŠ¸ ì •ì˜**:

**.claude/agents/web-researcher.md**:
```yaml
---
name: web-researcher
description: ì›¹ ê²€ìƒ‰ ì „ë¬¸ ì„œë¸Œì—ì´ì „íŠ¸. ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ì •ë³´ë¥¼ ìˆ˜ì§‘í•˜ê³  ìš”ì•½í•©ë‹ˆë‹¤.
model: claude-haiku
tools:
  - WebSearch
  - WebFetch
  - Grep
  - Read
  - Write
---

# Web Researcher SubAgent

ë‹¹ì‹ ì€ ì›¹ ê²€ìƒ‰ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

## ì‘ì—… íë¦„

1. ì£¼ì–´ì§„ ê²€ìƒ‰ ì¿¼ë¦¬ë“¤ì„ **ë³‘ë ¬ë¡œ** ì‹¤í–‰í•©ë‹ˆë‹¤
2. ê° ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ê´€ë ¨ì„± ë†’ì€ URLì„ ì„ ë³„í•©ë‹ˆë‹¤
3. ìœ ë§í•œ URLì— WebFetchë¥¼ ì‹¤í–‰í•˜ì—¬ ìƒì„¸ ë‚´ìš©ì„ ê°€ì ¸ì˜µë‹ˆë‹¤
4. ìˆ˜ì§‘ëœ ì •ë³´ë¥¼ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì •ë¦¬í•©ë‹ˆë‹¤:

```json
{
  "queries_executed": ["query1", "query2", ...],
  "results": [
    {
      "query": "...",
      "source_url": "...",
      "source_domain": "...",
      "title": "...",
      "key_findings": ["...", "..."],
      "credibility_score": 0.0-1.0,
      "relevant_quotes": ["...", "..."]
    }
  ],
  "total_results": N,
  "high_quality_results": M
}
```

## ì‹ ë¢°ë„ í‰ê°€ ê¸°ì¤€

- arxiv.org, nature.com, ieee.org: 0.95
- github.com: 0.70
- medium.com, blog posts: 0.50
- unknown domains: 0.30

## ì¶œë ¥

ê²°ê³¼ë¥¼ `.research/temp_web_results.json`ì— ì €ì¥í•©ë‹ˆë‹¤.
```

**.claude/agents/academic-researcher.md**:
```yaml
---
name: academic-researcher
description: í•™ìˆ  ë…¼ë¬¸ ê²€ìƒ‰ ì „ë¬¸ ì„œë¸Œì—ì´ì „íŠ¸. arXiv, Semantic Scholar ë“±ì—ì„œ ë…¼ë¬¸ì„ ê²€ìƒ‰í•˜ê³  ë¶„ì„í•©ë‹ˆë‹¤.
model: claude-haiku
tools:
  - WebSearch
  - WebFetch
  - Bash
  - Read
  - Write
---

# Academic Researcher SubAgent

ë‹¹ì‹ ì€ í•™ìˆ  ë…¼ë¬¸ ê²€ìƒ‰ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

## ì‘ì—… íë¦„

1. í•™ìˆ  ê²€ìƒ‰ ìˆ˜í–‰:
   - WebSearch("site:arxiv.org {í‚¤ì›Œë“œ}")
   - WebSearch("site:semanticscholar.org {í‚¤ì›Œë“œ}")

2. ìœ ë§í•œ ë…¼ë¬¸ ë©”íƒ€ë°ì´í„° ìˆ˜ì§‘:
   - WebFetchë¡œ arXiv abstract í˜ì´ì§€ ë¶„ì„

3. PDF ë‹¤ìš´ë¡œë“œ (ì„ íƒì ):
   ```bash
   curl -L -o .research/papers/{paper_id}.pdf https://arxiv.org/pdf/{paper_id}
   ```

4. PDF ë¶„ì„:
   ```
   Read(".research/papers/{paper_id}.pdf")
   ```

5. ê²°ê³¼ ì •ë¦¬:

```json
{
  "papers_found": [
    {
      "paper_id": "1706.03762",
      "title": "Attention Is All You Need",
      "authors": ["Vaswani et al."],
      "year": 2017,
      "source": "arxiv",
      "abstract_summary": "...",
      "key_findings": ["...", "..."],
      "citations": 90000,
      "pdf_downloaded": true,
      "pdf_path": ".research/papers/1706.03762.pdf"
    }
  ],
  "total_papers": N
}
```

## ì¶œë ¥

ê²°ê³¼ë¥¼ `.research/temp_academic_results.json`ì— ì €ì¥í•©ë‹ˆë‹¤.
```

**.claude/agents/fact-checker.md**:
```yaml
---
name: fact-checker
description: ì‚¬ì‹¤ ê²€ì¦ ì „ë¬¸ ì„œë¸Œì—ì´ì „íŠ¸. ì£¼ì¥ë“¤ì„ êµì°¨ ê²€ì¦í•˜ê³  ë°˜ì¦ ì¦ê±°ë¥¼ íƒìƒ‰í•©ë‹ˆë‹¤.
model: claude-haiku
tools:
  - WebSearch
  - WebFetch
  - Read
  - Write
---

# Fact Checker SubAgent

ë‹¹ì‹ ì€ ì‚¬ì‹¤ ê²€ì¦ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

## ì‘ì—… íë¦„

1. ê²€ì¦í•  ì£¼ì¥ë“¤ì„ ë°›ìŠµë‹ˆë‹¤
2. ê° ì£¼ì¥ì— ëŒ€í•´:
   - ì§€ì§€ ì¦ê±° ê²€ìƒ‰
   - **ë°˜ì¦ ì¦ê±° ì ê·¹ ê²€ìƒ‰** (í•µì‹¬!)
   - êµì°¨ ê²€ì¦ (2ê°œ ì´ìƒ ë…ë¦½ ì†ŒìŠ¤)

3. ë°˜ì¦ ê²€ìƒ‰ ì „ëµ:
   - "{ì£¼ì¥} criticism"
   - "{ì£¼ì¥} wrong"
   - "{ì£¼ì¥} controversy"
   - "{ì£¼ì¥} alternative"

4. ê²°ê³¼ ì •ë¦¬:

```json
{
  "claims_verified": [
    {
      "claim": "...",
      "verification_status": "verified|likely|uncertain|contradicted",
      "supporting_sources": ["url1", "url2"],
      "contradicting_sources": ["url3"],
      "confidence_score": 0.0-1.0,
      "notes": "..."
    }
  ]
}
```

## ì¶œë ¥

ê²°ê³¼ë¥¼ `.research/temp_verification_results.json`ì— ì €ì¥í•©ë‹ˆë‹¤.
```

### 5.3 SKILL.mdì—ì„œ ì„œë¸Œì—ì´ì „íŠ¸ í™œìš©

```markdown
## 4. EXECUTE (ì‹¤í–‰)

ì´ë²ˆ iterationì—ì„œ ë‹¤ìŒ ì„œë¸Œì—ì´ì „íŠ¸ë“¤ì„ **ë³‘ë ¬ë¡œ** ì‹¤í–‰í•©ë‹ˆë‹¤:

### ë°©ë²• 1: Task ë„êµ¬ë¡œ ì»¤ìŠ¤í…€ ì—ì´ì „íŠ¸ í˜¸ì¶œ

```
Task(
  description="ì›¹ ê²€ìƒ‰ ìˆ˜í–‰",
  prompt="ë‹¤ìŒ ì¿¼ë¦¬ë“¤ë¡œ ì›¹ ê²€ìƒ‰ ìˆ˜í–‰: query1, query2, query3. ê²°ê³¼ë¥¼ .research/temp_web_results.jsonì— ì €ì¥.",
  subagent_type="web-researcher"
)

Task(
  description="í•™ìˆ  ë…¼ë¬¸ ê²€ìƒ‰",
  prompt="ë‹¤ìŒ í‚¤ì›Œë“œë¡œ í•™ìˆ  ë…¼ë¬¸ ê²€ìƒ‰: keyword1, keyword2. ê²°ê³¼ë¥¼ .research/temp_academic_results.jsonì— ì €ì¥.",
  subagent_type="academic-researcher"
)

Task(
  description="ê¸°ì¡´ ì£¼ì¥ ê²€ì¦",
  prompt="ë‹¤ìŒ ì£¼ì¥ë“¤ì„ êµì°¨ ê²€ì¦: claim1, claim2. ê²°ê³¼ë¥¼ .research/temp_verification_results.jsonì— ì €ì¥.",
  subagent_type="fact-checker"
)
```

### ë°©ë²• 2: ë‚´ì¥ Explore ì—ì´ì „íŠ¸ í™œìš©

```
Task(
  description="ì½”ë“œë² ì´ìŠ¤ íŒ¨í„´ ë¶„ì„",
  prompt="ì´ í”„ë¡œì íŠ¸ì˜ ì—ëŸ¬ í•¸ë“¤ë§ íŒ¨í„´ì„ ë¶„ì„í•˜ì„¸ìš”",
  subagent_type="Explore"
)
```

### ê²°ê³¼ ìˆ˜ì§‘

ì„œë¸Œì—ì´ì „íŠ¸ ì™„ë£Œ í›„:
```
Read(".research/temp_web_results.json")
Read(".research/temp_academic_results.json")
Read(".research/temp_verification_results.json")
```

â†’ ê²°ê³¼ë¥¼ ì¢…í•©í•˜ì—¬ knowledge_graph.json ì—…ë°ì´íŠ¸
```

---

## 6. ì„¤ì • ë° í™˜ê²½ êµ¬ì„±

### 6.1 .claude/settings.json (íŒ€ ê³µìœ )

```json
{
  "model": "claude-sonnet-4-5-20250929",

  "env": {
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "32000",
    "MAX_THINKING_TOKENS": "10000",
    "MAX_MCP_OUTPUT_TOKENS": "50000",
    "MCP_TIMEOUT": "30000"
  },

  "permissions": {
    "allow": [
      "Read(.research/**)",
      "Write(.research/**)",
      "Edit(.research/**)",
      "Read(.claude/**)",
      "Bash(curl -L -o .research/papers/*.pdf *)",
      "Bash(jq * .research/*.json)",
      "Bash(cat .research/*.json)",
      "Bash(mkdir -p .research/*)",
      "WebFetch",
      "WebSearch"
    ],
    "deny": [
      "Bash(rm -rf .research)",
      "Edit(.git/**)",
      "Read(.env)",
      "Write(.env)"
    ],
    "ask": [
      "Bash(git push *)",
      "Bash(rm *)"
    ]
  },

  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python3 .claude/hooks/stop-hook.py",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
```

### 6.2 .claude/settings.local.json (ê°œì¸, git ë¬´ì‹œ)

```json
{
  "env": {
    "DEBUG_MODE": "1",
    "MY_API_KEYS": "..."
  }
}
```

### 6.3 .mcp.json (MCP ì„œë²„)

```json
{
  "mcpServers": {
    "context7": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-server-context7"],
      "env": {}
    }
  }
}
```

### 6.4 config.json (ë¦¬ì„œì¹˜ ìŠ¤í‚¬ ì„¤ì •)

```json
{
  "version": "4.0",

  "loop_control": {
    "max_iterations": 100,
    "completion_promise": "<promise>RESEARCH_COMPLETE</promise>",
    "auto_stop": false,

    "loop_drift_prevention": {
      "same_query_threshold": 2,
      "same_action_threshold": 3,
      "no_progress_iterations": 5
    }
  },

  "search": {
    "parallel_count": 3,
    "max_retries": 2,

    "strategies": {
      "web": {
        "enabled": true,
        "fetch_full_content": true
      },
      "academic": {
        "enabled": true,
        "sources": ["arxiv", "semantic_scholar"],
        "auto_download_pdf": true,
        "max_papers_per_query": 3
      },
      "verification": {
        "enabled": true,
        "search_contradictions": true
      }
    }
  },

  "memory": {
    "compaction_threshold": 0.8,
    "compaction_interval": 5,
    "knowledge_graph_enabled": true,
    "reflexion_enabled": true
  },

  "verification": {
    "require_sources": true,
    "min_source_count": 2,
    "cross_validation": true,

    "credibility_scores": {
      "arxiv.org": 0.95,
      "nature.com": 0.98,
      "ieee.org": 0.95,
      "acm.org": 0.95,
      "github.com": 0.70,
      "medium.com": 0.50,
      "wikipedia.org": 0.75,
      "default": 0.30
    },

    "confidence_tags": {
      "verified": "âœ“âœ“",
      "high": "âœ“",
      "likely": "~",
      "uncertain": "?",
      "contradicted": "âš "
    }
  },

  "cost_control": {
    "budget_per_session_usd": 10.0,
    "warning_threshold": 0.8,
    "hard_stop_threshold": 0.95,

    "token_cost_estimates": {
      "input_per_1k": 0.003,
      "output_per_1k": 0.015
    }
  },

  "output": {
    "verbosity": "normal",
    "show_confidence": true,
    "inline_citations": true,
    "progress_dashboard": true
  }
}
```

### 6.5 CLAUDE.md (í”„ë¡œì íŠ¸ ë©”ëª¨ë¦¬)

```markdown
# Deep Research Project

## Quick Start

```bash
# ìƒˆ ì—°êµ¬ ì‹œì‘
./research.sh 50 "ì—°êµ¬ ì§ˆë¬¸"

# ê¸°ì¡´ ì—°êµ¬ ì¬ê°œ
./research.sh

# ìƒíƒœ í™•ì¸
cat .research/state.json | jq .iteration
```

## Controls

- `q`: ì¦‰ì‹œ ì¢…ë£Œ
- `s`: ì¼ì‹œ ì •ì§€ (ìƒíƒœ ì €ì¥)
- ì¬ê°œ: `./research.sh` ë‹¤ì‹œ ì‹¤í–‰

## Research Data Location

- `.research/state.json` - í˜„ì¬ ìƒíƒœ
- `.research/findings.md` - ë°œê²¬ ì‚¬í•­
- `.research/hypotheses.md` - ê°€ì„¤
- `.research/iteration_logs/` - ë°˜ë³µ ë¡œê·¸
- `RESEARCH_REPORT.md` - ìµœì¢… ë³´ê³ ì„œ

## ì¤‘ìš” ê·œì¹™

1. `.research/` ë””ë ‰í† ë¦¬ëŠ” **ì ˆëŒ€ ì‚­ì œí•˜ì§€ ë§ˆì„¸ìš”**
2. ì—°êµ¬ ì¤‘ ìˆ˜ë™ íŒŒì¼ ìˆ˜ì • ê¸ˆì§€
3. ì˜ˆì‚° í•œë„: $10/ì„¸ì…˜

## í™˜ê²½ ë³€ìˆ˜

í•„ìˆ˜:
- `ANTHROPIC_API_KEY`: Claude API í‚¤

ì„ íƒ:
- `DEBUG_MODE`: ë””ë²„ê·¸ ì¶œë ¥ í™œì„±í™”
```

### 6.6 .gitignore ì¶”ê°€

```gitignore
# Research data (ì„¸ì…˜ë³„ ë°ì´í„°)
.research/

# Local settings
.claude/settings.local.json

# Downloaded papers (ìš©ëŸ‰)
*.pdf

# Temp files
tmp.json
```

---

## 7. íŒŒì¼ ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬

### 7.1 state.json v4 êµ¬ì¡°

```json
{
  "version": "4.0",
  "session_id": "research_20250129_143000",

  "question": {
    "original": "Transformerì˜ attention mechanismì´ ì™œ íš¨ê³¼ì ì¸ê°€?",
    "decomposed": [
      {
        "id": "q1",
        "text": "Self-attentionì˜ ì‘ë™ ì›ë¦¬",
        "status": "answered",
        "confidence": 0.95,
        "answered_at_iteration": 3
      },
      {
        "id": "q2",
        "text": "RNN ëŒ€ë¹„ ì¥ì ",
        "status": "in_progress",
        "confidence": 0.75,
        "answered_at_iteration": null
      },
      {
        "id": "q3",
        "text": "ê³„ì‚° ë³µì¡ë„ ë¶„ì„",
        "status": "pending",
        "confidence": 0.0,
        "answered_at_iteration": null
      }
    ]
  },

  "iteration": {
    "current": 5,
    "max": 100,
    "last_compaction": 3,
    "started_at": "2025-01-29T14:30:00Z"
  },

  "status": "running",

  "hypotheses": [
    {
      "id": "h1",
      "version": 3,
      "statement": "Self-attentionì€ O(1) path lengthë¡œ ì¥ê±°ë¦¬ ì˜ì¡´ì„±ì„ íš¨ê³¼ì ìœ¼ë¡œ í•™ìŠµí•œë‹¤",
      "status": "supported",
      "confidence": 0.85,
      "supporting_evidence": ["e001", "e003", "e007"],
      "contradicting_evidence": [],
      "created_at_iteration": 1,
      "last_updated_iteration": 5
    }
  ],

  "evidence": {
    "e001": {
      "claim": "Self-attentionì˜ path lengthëŠ” O(1)ì´ë‹¤",
      "source": "arxiv.org/abs/1706.03762",
      "source_type": "academic",
      "credibility": 0.95,
      "verification_status": "verified",
      "found_at_iteration": 2
    }
  },

  "knowledge_summary": {
    "confirmed_facts": 12,
    "uncertain_claims": 5,
    "contradictions": 1,
    "total_sources": 23
  },

  "loop_drift": {
    "consecutive_same_action": 0,
    "last_action_hash": "a1b2c3d4",
    "strategy_changes": 1,
    "recent_queries": [
      "transformer attention mechanism",
      "self-attention O(n^2) complexity"
    ]
  },

  "reasoning_mode": "tree_of_thoughts",

  "reflexion_summary": {
    "total_lessons": 3,
    "recent_insights": [
      "í•™ìˆ  ê²€ìƒ‰ ì‹œ site:arxiv.org ì ‘ë‘ì‚¬ê°€ íš¨ê³¼ì ",
      "ë³µì¡ë„ ê´€ë ¨ ì§ˆë¬¸ì€ Big-O í‘œê¸°ë²• í¬í•¨"
    ]
  },

  "next_actions": [
    {
      "type": "search",
      "query": "linear attention transformer O(n) complexity",
      "reason": "Self-attentionì˜ ëŒ€ì•ˆ íƒìƒ‰",
      "priority": "high"
    },
    {
      "type": "verify",
      "claim": "PerformerëŠ” O(n) ë³µì¡ë„ë¡œ attention ê·¼ì‚¬",
      "method": "cross_reference",
      "priority": "medium"
    }
  ],

  "metrics": {
    "total_searches": 18,
    "successful_searches": 15,
    "token_usage_estimate": 45000,
    "cost_estimate_usd": 0.45
  }
}
```

### 7.2 knowledge_graph.json (Temporal KG)

```json
{
  "nodes": [
    {
      "id": "concept_001",
      "type": "concept",
      "label": "Self-Attention Mechanism",
      "properties": {
        "definition": "Query, Key, Valueë¥¼ ì‚¬ìš©í•œ ê°€ì¤‘ í‰ê·  ë©”ì»¤ë‹ˆì¦˜",
        "aliases": ["self-attention", "scaled dot-product attention"],
        "first_seen_iteration": 1,
        "confidence": 0.95,
        "sources": ["arxiv:1706.03762"]
      },
      "temporal": {
        "valid_from": "2017-06-12T00:00:00Z",
        "valid_to": null,
        "recorded_at": "2025-01-29T14:35:00Z"
      }
    },
    {
      "id": "fact_001",
      "type": "fact",
      "label": "Self-attentionì˜ ì‹œê°„ë³µì¡ë„ëŠ” O(nÂ²)",
      "properties": {
        "verified": true,
        "sources": ["arxiv:1706.03762", "arxiv:2009.14794"],
        "confidence": 0.98,
        "contradicted_by": []
      },
      "temporal": {
        "valid_from": "2017-06-12T00:00:00Z",
        "valid_to": null,
        "recorded_at": "2025-01-29T14:40:00Z"
      }
    }
  ],

  "edges": [
    {
      "id": "edge_001",
      "source": "concept_001",
      "target": "fact_001",
      "relation": "HAS_PROPERTY",
      "properties": {
        "confidence": 0.95,
        "description": "Self-attentionì€ O(nÂ²) ë³µì¡ë„ë¥¼ ê°€ì§"
      },
      "temporal": {
        "valid_from": "2025-01-29T14:40:00Z",
        "valid_to": null
      }
    }
  ],

  "temporal_markers": {
    "last_updated": "2025-01-29T15:00:00Z",
    "version": 5,
    "total_nodes": 24,
    "total_edges": 31
  },

  "conflicts": [
    {
      "id": "conflict_001",
      "fact_a": "fact_003",
      "fact_b": "fact_007",
      "description": "í† í° íš¨ìœ¨ì„±ì— ëŒ€í•œ ìƒì¶© ì •ë³´",
      "resolution": "pending",
      "discovered_at_iteration": 4
    }
  ]
}
```

### 7.3 reflexion.json (ì‹¤íŒ¨ í•™ìŠµ ë©”ëª¨ë¦¬)

```json
{
  "memories": [
    {
      "iteration": 3,
      "timestamp": "2025-01-29T14:35:00Z",
      "action": {
        "type": "search",
        "query": "transformer attention complexity",
        "tool": "WebSearch"
      },
      "outcome": "failure",
      "outcome_detail": "ê²€ìƒ‰ ê²°ê³¼ê°€ ë„ˆë¬´ ì¼ë°˜ì , ì›í•˜ëŠ” ì •ë³´ ì—†ìŒ",
      "reflection": "ê²€ìƒ‰ì–´ê°€ ë„ˆë¬´ ê´‘ë²”ìœ„í•¨",
      "lesson_learned": {
        "category": "search_strategy",
        "rule": "ë³µì¡ë„ ê´€ë ¨ ê²€ìƒ‰ ì‹œ Big-O í‘œê¸°ë²• í¬í•¨",
        "confidence": 0.9
      },
      "applied_in_iterations": [4, 7]
    }
  ],

  "aggregated_lessons": {
    "search_strategy": [
      "ë³µì¡ë„ ê´€ë ¨ ê²€ìƒ‰ ì‹œ Big-O í‘œê¸°ë²• í¬í•¨",
      "ê¸°ìˆ  ê°œë… ê²€ìƒ‰ ì‹œ ìˆ˜í•™ì  í‘œê¸° í¬í•¨",
      "í•™ìˆ  ê²€ìƒ‰ ì‹œ 'site:arxiv.org' ì ‘ë‘ì‚¬ ì‚¬ìš©"
    ],
    "verification": [
      "ì¤‘ìš” ì£¼ì¥ì€ 2ê°œ ì´ìƒ ë…ë¦½ ì†ŒìŠ¤ë¡œ í™•ì¸",
      "í™•ì‹ ì´ ìƒê¸°ë©´ ë°˜ì¦ ì¦ê±° ì ê·¹ íƒìƒ‰"
    ],
    "reasoning": [
      "ë§‰íˆë©´ ì œ1ì›ì¹™ìœ¼ë¡œ ëŒì•„ê°€ê¸°",
      "ì •ë³´ ê³¼ë‹¤ ì‹œ ì˜¤ì»´ì˜ ë©´ë„ë‚  ì ìš©"
    ]
  }
}
```

### 7.4 iteration_logs/001.md (ë°˜ë³µ ë¡œê·¸ ì˜ˆì‹œ)

```markdown
# Iteration #1 Log

**Timestamp**: 2025-01-29T14:30:00Z
**Duration**: 45 seconds
**Status**: Completed

## Goal

ì—°êµ¬ ì§ˆë¬¸ ë¶„í•´ ë° ì´ˆê¸° íƒìƒ‰

## Actions Taken

### 1. Query Decomposition
- ì›ë³¸: "Transformerì˜ attention mechanismì´ ì™œ íš¨ê³¼ì ì¸ê°€?"
- ë¶„í•´:
  - q1: Self-attentionì˜ ì‘ë™ ì›ë¦¬
  - q2: RNN ëŒ€ë¹„ ì¥ì 
  - q3: ê³„ì‚° ë³µì¡ë„ ë¶„ì„

### 2. Initial Search

| Query | Results | Useful |
|-------|---------|--------|
| "transformer attention mechanism explained" | 15 | 3 |
| "self-attention vs RNN comparison" | 12 | 2 |
| "site:arxiv.org attention is all you need" | 5 | 5 |

### 3. Key Findings

1. âœ“ "Attention Is All You Need" (Vaswani et al., 2017)ê°€ í•µì‹¬ ë…¼ë¬¸ [arxiv:1706.03762]
2. ~ Self-attentionì€ ì‹œí€€ìŠ¤ì˜ ëª¨ë“  ìœ„ì¹˜ë¥¼ í•œë²ˆì— ì°¸ì¡° ê°€ëŠ¥
3. ? ê³„ì‚° ë³µì¡ë„ì— ëŒ€í•œ ìƒì„¸ ë¶„ì„ í•„ìš”

## Hypothesis Update

- **New**: "Self-attentionì€ ì¥ê±°ë¦¬ ì˜ì¡´ì„± í•™ìŠµì— íš¨ê³¼ì "
- **Confidence**: 0.5 (ì´ˆê¸°)
- **Reason**: ë…¼ë¬¸ abstractì—ì„œ ì–¸ê¸‰, ìƒì„¸ í™•ì¸ í•„ìš”

## Next Actions

1. arxiv:1706.03762 PDF ë‹¤ìš´ë¡œë“œ ë° ë¶„ì„
2. Self-attentionì˜ ê³„ì‚° ë³µì¡ë„ ìƒì„¸ ê²€ìƒ‰
3. RNNê³¼ì˜ ë¹„êµ ë…¼ë¬¸ íƒìƒ‰

## Metrics

- Token estimate: 8,500
- Cost estimate: $0.08
- Search efficiency: 67%
```

---

## 8. ì™„ì „í•œ êµ¬í˜„ ì½”ë“œ

### 8.1 ë¹ ë¥¸ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ (setup.sh)

```bash
#!/bin/bash
#==============================================================================
# setup.sh - Deep Research í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
#==============================================================================

echo "ğŸ”¬ Setting up Deep Research environment..."

# 1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±
mkdir -p .claude/skills/deep-research/references
mkdir -p .claude/agents
mkdir -p .claude/rules
mkdir -p .claude/hooks
mkdir -p .research/iteration_logs
mkdir -p .research/papers

# 2. SKILL.md ìƒì„± (ì—¬ê¸°ì„œëŠ” ê²½ë¡œë§Œ, ì‹¤ì œ ë‚´ìš©ì€ ìœ„ ì„¹ì…˜ ì°¸ì¡°)
if [ ! -f ".claude/skills/deep-research/SKILL.md" ]; then
    echo "Creating SKILL.md..."
    # ì‹¤ì œ êµ¬í˜„ ì‹œ ìœ„ì˜ SKILL.md ë‚´ìš© ë³µì‚¬
    cat > .claude/skills/deep-research/SKILL.md << 'SKILL_EOF'
---
name: deep-research
description: ì‚¬ìš©ìê°€ ì¤‘ë‹¨í•  ë•Œê¹Œì§€ ë¬´í•œ ë°˜ë³µí•˜ë©° ì£¼ì œë¥¼ ì‹¬ì¸µ ì—°êµ¬í•©ë‹ˆë‹¤.
argument-hint: [research question]
disable-model-invocation: true
allowed-tools: WebSearch, WebFetch, Read, Write, Edit, Bash, Glob, Grep, Task
---

# Deep Research Skill v4

[ìœ„ì˜ ì „ì²´ SKILL.md ë‚´ìš©ì„ ì—¬ê¸°ì— ë³µì‚¬]
SKILL_EOF
fi

# 3. settings.json ìƒì„±
if [ ! -f ".claude/settings.json" ]; then
    echo "Creating settings.json..."
    cat > .claude/settings.json << 'SETTINGS_EOF'
{
  "model": "claude-sonnet-4-5-20250929",
  "env": {
    "CLAUDE_CODE_MAX_OUTPUT_TOKENS": "32000",
    "MAX_THINKING_TOKENS": "10000"
  },
  "permissions": {
    "allow": [
      "Read(.research/**)",
      "Write(.research/**)",
      "Edit(.research/**)",
      "Read(.claude/**)",
      "Bash(curl -L -o .research/papers/*.pdf *)",
      "Bash(jq * .research/*.json)",
      "Bash(mkdir -p .research/*)",
      "WebFetch",
      "WebSearch"
    ],
    "deny": [
      "Bash(rm -rf .research)",
      "Edit(.git/**)",
      "Read(.env)"
    ]
  }
}
SETTINGS_EOF
fi

# 4. config.json ìƒì„±
if [ ! -f "config.json" ]; then
    echo "Creating config.json..."
    cat > config.json << 'CONFIG_EOF'
{
  "version": "4.0",
  "loop_control": {
    "max_iterations": 100,
    "completion_promise": "<promise>RESEARCH_COMPLETE</promise>"
  },
  "search": {
    "parallel_count": 3
  },
  "cost_control": {
    "budget_per_session_usd": 10.0
  }
}
CONFIG_EOF
fi

# 5. research.sh ìƒì„±
if [ ! -f "research.sh" ]; then
    echo "Creating research.sh..."
    # ìœ„ì˜ research.sh ë‚´ìš© ë³µì‚¬
    cat > research.sh << 'RESEARCH_EOF'
#!/bin/bash
# [ìœ„ì˜ research.sh ì „ì²´ ë‚´ìš©]
RESEARCH_EOF
    chmod +x research.sh
fi

# 6. CLAUDE.md ìƒì„±
if [ ! -f "CLAUDE.md" ]; then
    echo "Creating CLAUDE.md..."
    cat > CLAUDE.md << 'CLAUDE_EOF'
# Deep Research Project

## Quick Start
```bash
./research.sh 50 "ì—°êµ¬ ì§ˆë¬¸"
```

## Controls
- q: ì¢…ë£Œ
- s: ì¼ì‹œì •ì§€
CLAUDE_EOF
fi

# 7. .gitignore ì—…ë°ì´íŠ¸
if ! grep -q ".research/" .gitignore 2>/dev/null; then
    echo "Updating .gitignore..."
    cat >> .gitignore << 'GITIGNORE_EOF'

# Deep Research
.research/
.claude/settings.local.json
*.pdf
tmp.json
GITIGNORE_EOF
fi

echo ""
echo "âœ… Setup complete!"
echo ""
echo "To start research:"
echo "  ./research.sh 50 \"Your research question\""
echo ""
```

### 8.2 Stop Hook (Python)

**.claude/hooks/stop-hook.py** (ì „ì²´ ë²„ì „):

```python
#!/usr/bin/env python3
"""
Deep Research Stop Hook
- ë£¨í”„ ê³„ì†/ì¢…ë£Œ ê²°ì •
- Loop Drift íƒì§€
- ì˜ˆì‚° ì²´í¬
"""

import json
import sys
import os
from pathlib import Path

# ì„¤ì •
STATE_FILE = Path(".research/state.json")
CONFIG_FILE = Path("config.json")

def load_json(path: Path, default: dict = None) -> dict:
    try:
        with open(path, 'r') as f:
            return json.load(f)
    except (FileNotFoundError, json.JSONDecodeError):
        return default or {}

def main():
    # Hook ì…ë ¥ (stdin)
    try:
        hook_input = json.load(sys.stdin)
    except:
        hook_input = {}

    state = load_json(STATE_FILE, {
        "iteration": {"current": 0, "max": 100},
        "status": "initialized"
    })
    config = load_json(CONFIG_FILE, {
        "loop_control": {"max_iterations": 100},
        "cost_control": {"budget_per_session_usd": 10.0}
    })

    iteration = state.get("iteration", {}).get("current", 0)
    max_iter = config.get("loop_control", {}).get("max_iterations", 100)
    status = state.get("status", "running")
    cost = state.get("metrics", {}).get("cost_estimate_usd", 0)
    budget = config.get("cost_control", {}).get("budget_per_session_usd", 10.0)

    # ì¢…ë£Œ ì¡°ê±´ ì²´í¬
    stop_reasons = []

    # 1. ìƒíƒœ ê¸°ë°˜ ì¢…ë£Œ
    if status in ["completed", "paused", "stopped_by_user", "budget_exceeded"]:
        stop_reasons.append(f"Status: {status}")

    # 2. ìµœëŒ€ ë°˜ë³µ ë„ë‹¬
    if iteration >= max_iter:
        stop_reasons.append(f"Max iterations reached ({iteration}/{max_iter})")

    # 3. ì˜ˆì‚° ì´ˆê³¼
    if cost >= budget:
        stop_reasons.append(f"Budget exceeded (${cost:.2f}/${budget:.2f})")

    # 4. Loop Drift ì‹¬ê° (ë¬´í•œë£¨í”„ ë°©ì§€)
    drift = state.get("loop_drift", {}).get("consecutive_same_action", 0)
    if drift >= 10:
        stop_reasons.append(f"Severe loop drift ({drift} same actions)")

    # ê²°ì •
    if stop_reasons:
        output = {
            "decision": "allow",
            "reason": "; ".join(stop_reasons)
        }
    else:
        progress = f"Iteration {iteration}/{max_iter}"
        cost_info = f"Cost: ${cost:.2f}/${budget:.2f}"
        output = {
            "decision": "block",
            "reason": f"Continue research. {progress}. {cost_info}."
        }

    print(json.dumps(output))
    sys.exit(0)

if __name__ == "__main__":
    main()
```

---

## 9. ì œì•½ì‚¬í•­ ë° ìš°íšŒ ë°©ë²•

### 9.1 ì•Œë ¤ì§„ ì œì•½ì‚¬í•­

| ì œì•½ | ì›ì¸ | ìš°íšŒ ë°©ë²• |
|------|------|----------|
| **ì„œë¸Œì—ì´ì „íŠ¸ ì¤‘ì²© ë¶ˆê°€** | Task tool ì„¤ê³„ | Lead Agentì—ì„œë§Œ Task í˜¸ì¶œ |
| **ë°±ê·¸ë¼ìš´ë“œ WebSearch ë¶ˆê°€** | API ì œí•œ | í¬ê·¸ë¼ìš´ë“œ ë³‘ë ¬ ì‹¤í–‰ |
| **ì‹¤ì‹œê°„ ë¹„ìš© ì¡°íšŒ ë¶ˆê°€** | API ë¯¸ì œê³µ | í† í° ì¶”ì •ì¹˜ë¡œ ê³„ì‚° |
| **ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš° ì œí•œ** | LLM í•œê³„ | Bash ë£¨í”„ + Fresh Context |
| **MCP ë„êµ¬ ë°±ê·¸ë¼ìš´ë“œ ë¶ˆê°€** | ê¶Œí•œ ë¬¸ì œ | í¬ê·¸ë¼ìš´ë“œì—ì„œ ì‚¬ìš© |

### 9.2 ë¹„ìš© ì¶”ì • ë¡œì§

```python
def estimate_cost(state: dict) -> float:
    """
    í† í° ì‚¬ìš©ëŸ‰ ê¸°ë°˜ ë¹„ìš© ì¶”ì •

    Claude Sonnet 4.5 ê¸°ì¤€:
    - Input: $3.00 / 1M tokens
    - Output: $15.00 / 1M tokens
    """
    metrics = state.get("metrics", {})

    # ì¶”ì • (iterationë‹¹ í‰ê· )
    iterations = state.get("iteration", {}).get("current", 1)
    avg_input_tokens = 5000  # per iteration
    avg_output_tokens = 2000  # per iteration

    total_input = iterations * avg_input_tokens
    total_output = iterations * avg_output_tokens

    input_cost = (total_input / 1_000_000) * 3.00
    output_cost = (total_output / 1_000_000) * 15.00

    return round(input_cost + output_cost, 4)
```

### 9.3 ì»¨í…ìŠ¤íŠ¸ Compaction ì „ëµ

Fresh Context ë°©ì‹ (Bash ë£¨í”„)ì„ ì‚¬ìš©í•˜ë©´ ìë™ìœ¼ë¡œ í•´ê²°ë©ë‹ˆë‹¤.

ì„¸ì…˜ ë‚´ ë£¨í”„ ì‚¬ìš© ì‹œ:
```markdown
## Compaction ê·œì¹™

### ì–¸ì œ ì‹¤í–‰?
- í† í° ì‚¬ìš©ëŸ‰ ì¶”ì • > 80% (ì•½ 100K í† í°)
- 5íšŒ ë°˜ë³µë§ˆë‹¤ ìë™ ì‹¤í–‰

### ë³´ì¡´í•  ê²ƒ
1. ì›ë³¸ ì—°êµ¬ ì§ˆë¬¸
2. í˜„ì¬ ê°€ì„¤ ë° í™•ì‹ ë„
3. ìµœê·¼ 3ê°œ ë°˜ë³µì˜ í•µì‹¬ ë°œê²¬
4. ë¯¸í•´ê²° ì„œë¸Œì§ˆë¬¸

### ìš”ì•½í•  ê²ƒ
- ì´ì „ ë°˜ë³µ ë¡œê·¸ â†’ í•µì‹¬ í¬ì¸íŠ¸ë§Œ
- ê²€ìƒ‰ ê²°ê³¼ â†’ ê´€ë ¨ ë°œì·Œë¬¸ë§Œ

### ì œê±°í•  ê²ƒ
- ì¤‘ë³µ ê²€ìƒ‰ ê²°ê³¼
- ì‹¤íŒ¨í•œ ê²€ìƒ‰ ìƒì„¸
- ì´ë¯¸ í†µí•©ëœ ì¤‘ê°„ ê²°ê³¼
```

---

## 10. êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: Core Infrastructure (1-2ì¼)

- [ ] í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„± (setup.sh)
- [ ] state.json v4 êµ¬ì¡° êµ¬í˜„
- [ ] research.sh ë£¨í”„ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±
- [ ] ê¸°ë³¸ SKILL.md ì‘ì„±
- [ ] WebSearch + WebFetch í…ŒìŠ¤íŠ¸

**ê²€ì¦**: ë‹¨ì¼ iteration ì„±ê³µ ì‹¤í–‰

### Phase 2: Loop Control (1ì¼)

- [ ] 3ì¤‘ ì•ˆì „ì¥ì¹˜ êµ¬í˜„
  - [ ] max_iterations
  - [ ] completion_promise
  - [ ] user_interrupt (q/s)
- [ ] Stop Hook êµ¬í˜„ (ì„ íƒì )
- [ ] Loop Drift íƒì§€ êµ¬í˜„

**ê²€ì¦**: 5íšŒ ì—°ì† iteration ì‹¤í–‰, ì‚¬ìš©ì ì¤‘ë‹¨ í…ŒìŠ¤íŠ¸

### Phase 3: Memory & State (2ì¼)

- [ ] search_history.json ì¤‘ë³µ ë°©ì§€
- [ ] reflexion.json ì‹¤íŒ¨ í•™ìŠµ
- [ ] knowledge_graph.json êµ¬í˜„
- [ ] iteration_logs/ ìë™ ìƒì„±
- [ ] findings.md ëˆ„ì  ê¸°ë¡

**ê²€ì¦**: 10íšŒ iteration í›„ ìƒíƒœ íŒŒì¼ ì¼ê´€ì„± í™•ì¸

### Phase 4: Verification & Quality (2ì¼)

- [ ] 4-Layer Hallucination ë°©ì§€ í”„ë¡¬í”„íŠ¸
- [ ] ì‹ ë¢°ë„ íƒœê¹… ì‹œìŠ¤í…œ
- [ ] ì†ŒìŠ¤ êµì°¨ ê²€ì¦ ë¡œì§
- [ ] ë°˜ì¦ ì¦ê±° íƒìƒ‰ ì „ëµ

**ê²€ì¦**: ì¶œë ¥ì— ì‹ ë¢°ë„ íƒœê·¸ ì¼ê´€ì„± í™•ì¸

### Phase 5: Multi-Agent (2ì¼)

- [ ] ì»¤ìŠ¤í…€ ì„œë¸Œì—ì´ì „íŠ¸ ì •ì˜
  - [ ] web-researcher.md
  - [ ] academic-researcher.md
  - [ ] fact-checker.md
- [ ] Task tool ë³‘ë ¬ í˜¸ì¶œ í…ŒìŠ¤íŠ¸
- [ ] ê²°ê³¼ ìˆ˜ì§‘ ë° í†µí•© ë¡œì§

**ê²€ì¦**: ë³‘ë ¬ ì„œë¸Œì—ì´ì „íŠ¸ ì‹¤í–‰ ì„±ê³µ

### Phase 6: Polish & Documentation (1ì¼)

- [ ] RESEARCH_REPORT.md ìë™ ìƒì„±
- [ ] ë¹„ìš© ëŒ€ì‹œë³´ë“œ êµ¬í˜„
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
- [ ] README.md ì‘ì„±

**ê²€ì¦**: ì „ì²´ ì›Œí¬í”Œë¡œìš° ì—”ë“œíˆ¬ì—”ë“œ í…ŒìŠ¤íŠ¸

---

## 11. ì‚¬ìš©ì ê²½í—˜ (UX) ê°€ì´ë“œ

### 11.1 Plugin vs Skill: ì™œ Skillsë¡œ ì¶©ë¶„í•œê°€?

| êµ¬ë¶„ | Plugin | Skill | ê²°ë¡  |
|------|--------|-------|------|
| **ì •ì˜** | MCP ì„œë²„ ê¸°ë°˜ ì™¸ë¶€ ë„êµ¬ | SKILL.md ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ í™•ì¥ | - |
| **êµ¬í˜„ ë³µì¡ë„** | ë†’ìŒ (ì„œë²„ ì½”ë“œ í•„ìš”) | ë‚®ìŒ (Markdownë§Œ) | âœ… Skill |
| **ë¬´í•œë£¨í”„** | MCPë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë‚˜ ë³µì¡ | Stop Hook + Bashë¡œ ê°„ë‹¨ êµ¬í˜„ | âœ… Skill |
| **ìƒíƒœ ê´€ë¦¬** | MCP ì„œë²„ ë‚´ë¶€ ë˜ëŠ” íŒŒì¼ | íŒŒì¼ ê¸°ë°˜ (.research/) | ë™ë“± |
| **ìŠ¬ë˜ì‹œ ëª…ë ¹** | ë³„ë„ ì„¤ì • í•„ìš” | `/skill-name`ìœ¼ë¡œ ìë™ | âœ… Skill |
| **ë°°í¬** | ì„œë²„ ì„¤ì¹˜/ì‹¤í–‰ í•„ìš” | íŒŒì¼ ë³µì‚¬ë§Œ | âœ… Skill |
| **Claude Code í†µí•©** | ì™¸ë¶€ ë„êµ¬ë¡œ í˜¸ì¶œ | ë„¤ì´í‹°ë¸Œ í†µí•© | âœ… Skill |

**ê²°ë¡ **: Deep ResearchëŠ” **Skillsë§Œìœ¼ë¡œ ì™„ì „íˆ êµ¬í˜„ ê°€ëŠ¥**í•©ë‹ˆë‹¤. Plugin(MCP)ì€ ì™¸ë¶€ API ì—°ë™ì´ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.

### 11.2 ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ ì²´ê³„

Deep Researchë¥¼ ìœ„í•œ **ì§ê´€ì ì¸ ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´** ì„¤ê³„:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¯ Deep Research ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ“š ë©”ì¸ ëª…ë ¹ì–´                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /deep-research [ì§ˆë¬¸]     ìƒˆë¡œìš´ ì‹¬ì¸µ ì—°êµ¬ ì‹œì‘                      â”‚   â”‚
â”‚  â”‚ /dr [ì§ˆë¬¸]                ìœ„ì™€ ë™ì¼ (ë‹¨ì¶• ëª…ë ¹)                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  ğŸ”§ ì œì–´ ëª…ë ¹ì–´                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /research-status          í˜„ì¬ ì—°êµ¬ ìƒíƒœ í™•ì¸                        â”‚   â”‚
â”‚  â”‚ /research-resume          ì¼ì‹œì •ì§€ëœ ì—°êµ¬ ì¬ê°œ                       â”‚   â”‚
â”‚  â”‚ /research-report          í˜„ì¬ê¹Œì§€ì˜ ë³´ê³ ì„œ ìƒì„±                     â”‚   â”‚
â”‚  â”‚ /research-reset           ì—°êµ¬ ì´ˆê¸°í™” (ì£¼ì˜!)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“Š ì¡°íšŒ ëª…ë ¹ì–´                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ /research-findings        ë°œê²¬ ì‚¬í•­ ìš”ì•½                             â”‚   â”‚
â”‚  â”‚ /research-hypotheses      í˜„ì¬ ê°€ì„¤ ëª©ë¡                             â”‚   â”‚
â”‚  â”‚ /research-sources         ì°¸ê³  ìë£Œ ëª©ë¡                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ëª…ë ¹ì–´ë³„ SKILL.md êµ¬í˜„

**1. /deep-research (ë©”ì¸)**
```yaml
---
name: deep-research
description: ì‹¬ì¸µ ì—°êµ¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ ì¤‘ë‹¨í•  ë•Œê¹Œì§€ ë¬´í•œ ë°˜ë³µí•˜ë©° ì§ˆë¬¸ì„ íƒêµ¬í•©ë‹ˆë‹¤.
argument-hint: [ì—°êµ¬ ì§ˆë¬¸]
disable-model-invocation: true
allowed-tools: WebSearch, WebFetch, Read, Write, Edit, Bash, Glob, Grep, Task
---
# [ìœ„ì˜ ì „ì²´ SKILL.md ë‚´ìš©]
```

**2. /dr (ë‹¨ì¶• ëª…ë ¹)**
```yaml
---
name: dr
description: /deep-researchì˜ ë‹¨ì¶• ëª…ë ¹ì–´
argument-hint: [ì—°êµ¬ ì§ˆë¬¸]
---
/deep-research $ARGUMENTS
```

**3. /research-status**
```yaml
---
name: research-status
description: í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì—°êµ¬ì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
allowed-tools: Read, Bash
---
# Research Status

í˜„ì¬ ì—°êµ¬ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

!`cat .research/state.json 2>/dev/null | jq '{
  question: .question.original,
  iteration: .iteration.current,
  max: .iteration.max,
  status: .status,
  hypothesis_confidence: .hypotheses[0].confidence,
  confirmed_facts: .knowledge_summary.confirmed_facts,
  cost: .metrics.cost_estimate_usd
}' 2>/dev/null || echo '{"error": "No active research session"}'`

ìƒíƒœ íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒì„ ë³´ê³ í•˜ì„¸ìš”:
- í˜„ì¬ ì—°êµ¬ ì§ˆë¬¸
- ì§„í–‰ ìƒí™© (N/M iterations)
- í˜„ì¬ ê°€ì„¤ê³¼ í™•ì‹ ë„
- ë°œê²¬ëœ ì‚¬ì‹¤ ìˆ˜
- ì˜ˆìƒ ë¹„ìš©
```

**4. /research-resume**
```yaml
---
name: research-resume
description: ì¼ì‹œì •ì§€ëœ ì—°êµ¬ë¥¼ ì¬ê°œí•©ë‹ˆë‹¤.
allowed-tools: Read, Write, Edit, WebSearch, WebFetch, Bash, Task
---
# Research Resume

ì¼ì‹œì •ì§€ëœ ì—°êµ¬ë¥¼ ì¬ê°œí•©ë‹ˆë‹¤.

!`jq '.status = "running"' .research/state.json > tmp.json && mv tmp.json .research/state.json 2>/dev/null`

í˜„ì¬ ìƒíƒœ:
!`cat .research/state.json 2>/dev/null || echo '{}'`

ìƒíƒœë¥¼ í™•ì¸í•˜ê³  ë§ˆì§€ë§‰ iterationì—ì„œ ì´ì–´ì„œ ì—°êµ¬ë¥¼ ê³„ì†í•˜ì„¸ìš”.
next_actionsì— ê¸°ë¡ëœ ë‹¤ìŒ í–‰ë™ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.
```

**5. /research-report**
```yaml
---
name: research-report
description: í˜„ì¬ê¹Œì§€ì˜ ì—°êµ¬ ê²°ê³¼ë¥¼ ë³´ê³ ì„œë¡œ ìƒì„±í•©ë‹ˆë‹¤.
allowed-tools: Read, Write
---
# Research Report Generator

í˜„ì¬ê¹Œì§€ì˜ ì—°êµ¬ ê²°ê³¼ë¥¼ RESEARCH_REPORT.mdë¡œ ìƒì„±í•©ë‹ˆë‹¤.

í•„ìš”í•œ ë°ì´í„°:
!`cat .research/state.json 2>/dev/null || echo '{}'`
!`cat .research/findings.md 2>/dev/null || echo '# No findings yet'`
!`cat .research/hypotheses.md 2>/dev/null || echo '# No hypotheses yet'`
!`cat .research/sources.md 2>/dev/null || echo '# No sources yet'`

ë‹¤ìŒ êµ¬ì¡°ë¡œ RESEARCH_REPORT.mdë¥¼ ìƒì„±í•˜ì„¸ìš”:
1. Executive Summary
2. ì—°êµ¬ ì§ˆë¬¸
3. í•µì‹¬ ë°œê²¬ (ì‹ ë¢°ë„ íƒœê·¸ í¬í•¨)
4. í˜„ì¬ ê°€ì„¤
5. ì°¸ê³  ìë£Œ
6. ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ì‚¬í•­
```

### 11.3 ì‚¬ìš© ë°©ë²• (3ê°€ì§€)

#### ë°©ë²• 1: ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ (ê¶Œì¥ - ê°€ì¥ ê°„ë‹¨)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  $ claude                                                                    â”‚
â”‚                                                                              â”‚
â”‚  > /deep-research Transformerì˜ attentionì´ ì™œ íš¨ê³¼ì ì¸ê°€?                  â”‚
â”‚                                                                              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  ğŸ”¬ Deep Research Started                                                    â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  ì§ˆë¬¸: Transformerì˜ attentionì´ ì™œ íš¨ê³¼ì ì¸ê°€?                              â”‚
â”‚  ë¶„í•´ëœ ì„œë¸Œì§ˆë¬¸: 3ê°œ                                                        â”‚
â”‚  ì˜ˆìƒ ì†Œìš”: 10-50 iterations                                                 â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“Š Iteration #1 ì‹œì‘...                                                     â”‚
â”‚  [ê²€ìƒ‰ ì¤‘] "transformer self-attention mechanism"                            â”‚
â”‚  [ê²€ìƒ‰ ì¤‘] "attention vs RNN comparison"                                     â”‚
â”‚  [ë¶„ì„ ì¤‘] arxiv.org/abs/1706.03762                                          â”‚
â”‚                                                                              â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  ğŸ“Š Iteration #1 ì™„ë£Œ                                                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  ğŸ” ì´ë²ˆ ë°œê²¬:                                                               â”‚
â”‚     - Self-attentionì€ O(1) path lengthë¡œ ì¥ê±°ë¦¬ ì˜ì¡´ì„± í•™ìŠµ âœ“âœ“             â”‚
â”‚     - "Attention Is All You Need" (2017)ì´ í•µì‹¬ ë…¼ë¬¸ âœ“âœ“                     â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“ˆ í˜„ì¬ ê°€ì„¤: Self-attentionì€ ë³‘ë ¬í™”ì™€ ì¥ê±°ë¦¬ í•™ìŠµì—ì„œ RNNë³´ë‹¤ ìš°ìˆ˜        â”‚
â”‚     í™•ì‹ ë„: 45% | ì§€ì§€ ì¦ê±°: 2ê°œ | ë°˜ì¦: 0ê°œ                                 â”‚
â”‚                                                                              â”‚
â”‚  ğŸ¯ ë‹¤ìŒ ê³„íš: ê³„ì‚° ë³µì¡ë„ ë¶„ì„, ì‹¤ì œ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ íƒìƒ‰                     â”‚
â”‚  ğŸ“Š ì§„í–‰ë„: 33% (1/3 ì„œë¸Œì§ˆë¬¸)                                               â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚  [CONTINUE]                                                                  â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“Š Iteration #2 ì‹œì‘...                                                     â”‚
â”‚  ...                                                                         â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Press 'q' to quit, 's' to pause, Enter to continue                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ë°©ë²• 2: Bash ìŠ¤í¬ë¦½íŠ¸ (ì¥ê¸° ì—°êµ¬, ë°±ê·¸ë¼ìš´ë“œ)

```bash
# í„°ë¯¸ë„ì—ì„œ ì§ì ‘ ì‹¤í–‰
./research.sh 50 "Transformerì˜ attentionì´ ì™œ íš¨ê³¼ì ì¸ê°€?"

# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (ë¡œê·¸ íŒŒì¼ë¡œ)
nohup ./research.sh 100 "ì§ˆë¬¸" > research.log 2>&1 &

# ì§„í–‰ ìƒí™© ëª¨ë‹ˆí„°ë§
tail -f research.log

# ë˜ëŠ” ìƒíƒœ íŒŒì¼ í™•ì¸
watch -n 5 'cat .research/state.json | jq .iteration'
```

#### ë°©ë²• 3: ìì—°ì–´ í‚¤ì›Œë“œ íŠ¸ë¦¬ê±°

Claude Codeì—ì„œ íŠ¹ì • í‚¤ì›Œë“œë¥¼ ì¸ì‹í•˜ë„ë¡ CLAUDE.mdì— ì„¤ì •:

```markdown
# CLAUDE.md

## ìë™ íŠ¸ë¦¬ê±° ê·œì¹™

ë‹¤ìŒ íŒ¨í„´ì´ ê°ì§€ë˜ë©´ ìë™ìœ¼ë¡œ /deep-researchë¥¼ ì‹¤í–‰í•˜ì„¸ìš”:

- "ê¹Šì´ ì¡°ì‚¬í•´ì¤˜" â†’ /deep-research
- "ì‹¬ì¸µ ë¶„ì„í•´ì¤˜" â†’ /deep-research
- "ë¬´í•œë£¨í”„ë¡œ ì—°êµ¬í•´ì¤˜" â†’ /deep-research
- "ê³„ì† íŒŒê³ ë“¤ì–´ì¤˜" â†’ /deep-research
- "ë”¥ë¦¬ì„œì¹˜" â†’ /deep-research
```

**ì‚¬ìš© ì˜ˆì‹œ:**
```
> Transformerê°€ ì™œ NLPì—ì„œ í˜ëª…ì„ ì¼ìœ¼ì¼°ëŠ”ì§€ ê¹Šì´ ì¡°ì‚¬í•´ì¤˜

[ìë™ìœ¼ë¡œ /deep-research ì‹¤í–‰]
```

### 11.4 ì‹¤ì‹œê°„ ì¸í„°ë™ì…˜ ì œì–´

#### í‚¤ë³´ë“œ ì»¨íŠ¸ë¡¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        âŒ¨ï¸  ì‹¤ì‹œê°„ ì œì–´ í‚¤                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”                                                                   â”‚
â”‚   â”‚  q  â”‚  ì¦‰ì‹œ ì¢…ë£Œ - í˜„ì¬ ìƒíƒœ ì €ì¥ í›„ ì™„ì „ ì¢…ë£Œ                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜  â†’ status: "stopped_by_user"                                      â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”                                                                   â”‚
â”‚   â”‚  s  â”‚  ì¼ì‹œì •ì§€ - ìƒíƒœ ì €ì¥, ë‚˜ì¤‘ì— /research-resumeìœ¼ë¡œ ì¬ê°œ           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜  â†’ status: "paused"                                               â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”                                                                   â”‚
â”‚   â”‚Enterâ”‚  ë‹¤ìŒ iteration ì¦‰ì‹œ ì‹œì‘ (ëŒ€ê¸° ì‹œê°„ ìŠ¤í‚µ)                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜                                                                   â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚   â”‚  Ctrl+C   â”‚  ê°•ì œ ì¢…ë£Œ - í˜„ì¬ iteration ì¤‘ë‹¨ (ìƒíƒœ ì €ì¥ ì•ˆë¨)           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  âš ï¸ ê°€ëŠ¥í•˜ë©´ 'q' ì‚¬ìš© ê¶Œì¥                                  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì¼ì‹œì •ì§€ & ì¬ê°œ ì›Œí¬í”Œë¡œìš°

```
Session 1 (ì˜¤ì „)                    Session 2 (ì˜¤í›„)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
> /deep-research ì§ˆë¬¸               > /research-status

Iteration #1 âœ“                      ğŸ“Š Status: paused
Iteration #2 âœ“                      ğŸ“ Iteration: 15/100
...                                 ğŸ’¡ Hypothesis: 85% confidence
Iteration #15 ì§„í–‰ ì¤‘
                                    > /research-resume
[ì‚¬ìš©ìê°€ 's' ì…ë ¥]
                                    Iteration #16 ì‹œì‘...
â¸ï¸ Research paused.                 ...
   ìƒíƒœê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.
   /research-resumeìœ¼ë¡œ ì¬ê°œ        [ì™„ë£Œê¹Œì§€ ê³„ì†]
```

### 11.5 ì¶œë ¥ í˜•ì‹ ìƒì„¸

#### Iteration ì§„í–‰ ì¤‘ ì¶œë ¥

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š Iteration #7 / 50                                          ğŸ’° $0.42 / $10
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ ì´ë²ˆ ëª©í‘œ: Linear Attention ë³€í˜•ë“¤ì˜ ì„±ëŠ¥ ë¹„êµ

ğŸ” ê²€ìƒ‰ ìˆ˜í–‰:
   [1/3] âœ“ "Performer linear attention benchmark" (8 results)
   [2/3] âœ“ "Linformer vs Transformer comparison" (12 results)
   [3/3] âœ“ "efficient attention mechanisms survey" (6 results)

ğŸ“– ìƒì„¸ ë¶„ì„:
   â†’ arxiv.org/abs/2009.14794 (Performer) ë¶„ì„ ì¤‘...
   â†’ arxiv.org/abs/2006.04768 (Linformer) ë¶„ì„ ì¤‘...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š Iteration #7 ì™„ë£Œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” ì´ë²ˆ ë°œê²¬:
   â€¢ PerformerëŠ” O(n) ë³µì¡ë„ë¡œ attention ê·¼ì‚¬ ê°€ëŠ¥ âœ“ [arxiv:2009.14794]
   â€¢ LinformerëŠ” ì €ë­í¬ ê·¼ì‚¬ë¡œ O(n) ë‹¬ì„± âœ“ [arxiv:2006.04768]
   â€¢ ê·¼ì‚¬ ë°©ì‹ì— ë”°ë¼ ì •í™•ë„-ì†ë„ íŠ¸ë ˆì´ë“œì˜¤í”„ ì¡´ì¬ ~ [ì¶”ì •]

ğŸ“ˆ ê°€ì„¤ ì—…ë°ì´íŠ¸:
   "Self-attentionì˜ O(nÂ²)ëŠ” ê°œì„  ê°€ëŠ¥í•˜ë‚˜, ì •í™•ë„ ì†ì‹¤ì´ ìˆë‹¤"
   â”œâ”€ í™•ì‹ ë„: 72% (+12%)
   â”œâ”€ ì§€ì§€ ì¦ê±°: 8ê°œ (+3)
   â””â”€ ë°˜ì¦ ì¦ê±°: 1ê°œ (+0)

ğŸ¯ ë‹¤ìŒ ê³„íš:
   â†’ ì‹¤ì œ ë²¤ì¹˜ë§ˆí¬ ì„±ëŠ¥ ìˆ˜ì¹˜ ë¹„êµ
   â†’ ì •í™•ë„ ì†ì‹¤ì´ í—ˆìš© ê°€ëŠ¥í•œ ì‚¬ë¡€ íƒìƒ‰

ğŸ“Š ì „ì²´ ì§„í–‰ë„: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 67% (2/3 ì„œë¸Œì§ˆë¬¸ ì™„ë£Œ)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[CONTINUE] Press q:quit s:pause Enter:next
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

#### ì‹ ë¢°ë„ íƒœê·¸ ë²”ë¡€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹ ë¢°ë„ íƒœê·¸ (Confidence Tags)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ“âœ“ VERIFIED    ë‹¤ìˆ˜ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì†ŒìŠ¤ì—ì„œ í™•ì¸ë¨        â”‚
â”‚  âœ“  HIGH        ë‹¨ì¼ ì‹ ë¢° ì†ŒìŠ¤ (í•™ìˆ  ë…¼ë¬¸, ê³µì‹ ë¬¸ì„œ)        â”‚
â”‚  ~  LIKELY      ë…¼ë¦¬ì ìœ¼ë¡œ íƒ€ë‹¹í•˜ë‚˜ ì§ì ‘ í™•ì¸ ë¶€ì¡±           â”‚
â”‚  ?  UNCERTAIN   ì •ë³´ ë¶€ì¡± ë˜ëŠ” ì¶œì²˜ ë¶ˆëª…í™•                   â”‚
â”‚  âš   CONTRADICTED ìƒì¶©ë˜ëŠ” ì •ë³´ ì¡´ì¬                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.6 ì‹¤ì œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ê¸°ìˆ  ì¡°ì‚¬ (30ë¶„ ì„¸ì…˜)

```bash
# 1. ì—°êµ¬ ì‹œì‘
> /deep-research "GraphQL vs REST: 2024ë…„ ê¸°ì¤€ ì–´ë–¤ ê²ƒì´ ë” ë‚˜ì€ ì„ íƒì¸ê°€?"

# 2. 10 iterations í›„ ì¤‘ê°„ í™•ì¸
> /research-status

ğŸ“Š Status: running
ğŸ“ Iteration: 10/100
ğŸ’¡ Current hypothesis: "GraphQLì€ ë³µì¡í•œ ë°ì´í„° ìš”êµ¬ì‚¬í•­ì—, RESTëŠ” ë‹¨ìˆœí•œ CRUDì— ì í•©"
   Confidence: 68%
ğŸ“ˆ Confirmed facts: 15
ğŸ’° Cost: $0.85

# 3. ì¶©ë¶„í•˜ë‹¤ê³  íŒë‹¨ë˜ë©´ ì¢…ë£Œ
[q ì…ë ¥]

# 4. ë³´ê³ ì„œ ìƒì„±
> /research-report

ğŸ“„ RESEARCH_REPORT.md ìƒì„± ì™„ë£Œ
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: ì‹¬ì¸µ í•™ìˆ  ì—°êµ¬ (ì—¬ëŸ¬ ì„¸ì…˜)

```bash
# Day 1 - ì˜¤ì „: ì—°êµ¬ ì‹œì‘
> /dr "Large Language Modelì˜ emergent abilitiesëŠ” ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ê°€?"

[... 20 iterations ...]

# ì ì‹¬ì‹œê°„ - ì¼ì‹œì •ì§€
[s ì…ë ¥]
â¸ï¸ Research paused at iteration 20

# Day 1 - ì˜¤í›„: ì¬ê°œ
> /research-resume

[... 30 iterations ...]

# í‡´ê·¼ ì „ - í˜„ì¬ ìƒíƒœ í™•ì¸ í›„ ì¼ì‹œì •ì§€
> /research-status
> /research-report  # ì¤‘ê°„ ë³´ê³ ì„œ ì €ì¥
[s ì…ë ¥]

# Day 2 - ê³„ì†
> /research-resume

[... ì™„ë£Œê¹Œì§€ ...]
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ë°±ê·¸ë¼ìš´ë“œ ì¥ê¸° ì—°êµ¬

```bash
# í„°ë¯¸ë„ 1: ì—°êµ¬ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
$ nohup ./research.sh 200 "ì¸ê³µì§€ëŠ¥ì˜ ì˜ì‹ ê°€ëŠ¥ì„±ì— ëŒ€í•œ ì² í•™ì , ê³¼í•™ì  ë…¼ìŸ" \
    > research.log 2>&1 &

# í„°ë¯¸ë„ 2: ëª¨ë‹ˆí„°ë§
$ watch -n 10 'cat .research/state.json | jq "{iteration: .iteration.current, confidence: .hypotheses[0].confidence, cost: .metrics.cost_estimate_usd}"'

# ì¤‘ê°„ ê²°ê³¼ í™•ì¸
$ cat .research/findings.md | head -50

# í•„ìš” ì‹œ ì¤‘ë‹¨
$ echo "paused" > .research/control  # ë˜ëŠ” kill ì‹œê·¸ë„
```

### 11.7 ë¹ ë¥¸ ì‹œì‘ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Deep Research ë¹ ë¥¸ ì‹œì‘                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â–¡ 1. í”„ë¡œì íŠ¸ ì„¤ì •                                                         â”‚
â”‚     $ chmod +x setup.sh && ./setup.sh                                       â”‚
â”‚                                                                              â”‚
â”‚  â–¡ 2. ìŠ¤í‚¬ ì„¤ì¹˜ í™•ì¸                                                        â”‚
â”‚     $ ls .claude/skills/deep-research/SKILL.md                              â”‚
â”‚                                                                              â”‚
â”‚  â–¡ 3. Claude Code ì‹¤í–‰                                                      â”‚
â”‚     $ claude                                                                 â”‚
â”‚                                                                              â”‚
â”‚  â–¡ 4. ì²« ì—°êµ¬ ì‹œì‘                                                          â”‚
â”‚     > /deep-research ì—¬ê¸°ì— ì—°êµ¬ ì§ˆë¬¸ ì…ë ¥                                  â”‚
â”‚                                                                              â”‚
â”‚  â–¡ 5. ì»¨íŠ¸ë¡¤ í™•ì¸                                                           â”‚
â”‚     â€¢ q = ì¢…ë£Œ                                                               â”‚
â”‚     â€¢ s = ì¼ì‹œì •ì§€                                                           â”‚
â”‚     â€¢ /research-status = ìƒíƒœ í™•ì¸                                          â”‚
â”‚     â€¢ /research-resume = ì¬ê°œ                                               â”‚
â”‚     â€¢ /research-report = ë³´ê³ ì„œ ìƒì„±                                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.8 FAQ

**Q: ì—°êµ¬ ë„ì¤‘ ì§ˆë¬¸ì„ ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´?**
```
> /research-reset
> /deep-research ìƒˆë¡œìš´ ì§ˆë¬¸
```

**Q: íŠ¹ì • iterationë¶€í„° ë‹¤ì‹œ ì‹œì‘í•˜ê³  ì‹¶ìœ¼ë©´?**
```bash
# state.json ì§ì ‘ ìˆ˜ì •
jq '.iteration.current = 5' .research/state.json > tmp.json && mv tmp.json .research/state.json
> /research-resume
```

**Q: ë¹„ìš©ì´ ë„ˆë¬´ ë§ì´ ë‚˜ê°€ë©´?**
- config.jsonì—ì„œ `budget_per_session_usd` ì¡°ì •
- ìë™ìœ¼ë¡œ 80% ë„ë‹¬ ì‹œ ê²½ê³ , 100% ë„ë‹¬ ì‹œ ì¤‘ë‹¨

**Q: ê²€ìƒ‰ ê²°ê³¼ê°€ ì˜ì–´ë§Œ ë‚˜ì˜¤ë©´?**
```
> /deep-research [í•œêµ­ì–´ë¡œ ê²€ìƒ‰í•´ì¤˜] Transformer attentionì˜ íš¨ê³¼
```
ë˜ëŠ” SKILL.mdì— `ê²€ìƒ‰ ì‹œ í•œêµ­ì–´ ì¿¼ë¦¬ë„ í¬í•¨í•  ê²ƒ` ê·œì¹™ ì¶”ê°€

**Q: íŠ¹ì • ì‚¬ì´íŠ¸ë§Œ ê²€ìƒ‰í•˜ê³  ì‹¶ìœ¼ë©´?**
```
> /deep-research [arxiv.orgì™€ papers.nips.ccë§Œ ê²€ìƒ‰] Neural scaling laws
```

---

## ê²°ë¡ 

### v4ì˜ í•µì‹¬ ì„±ê³¼

1. **ì™„ì „í•œ êµ¬í˜„ ê°€ëŠ¥ì„± ê²€ì¦**: v3ì˜ ëª¨ë“  í•µì‹¬ ê¸°ëŠ¥ì´ Claude Codeì—ì„œ êµ¬í˜„ ê°€ëŠ¥í•¨ì„ í™•ì¸

2. **3ê°€ì§€ ë£¨í”„ ì „ëµ**: Bash ë£¨í”„(ê¶Œì¥), Command Hook, Prompt Hook - ìƒí™©ì— ë§ê²Œ ì„ íƒ ê°€ëŠ¥

3. **2ë‹¨ê³„ ë©€í‹°ì—ì´ì „íŠ¸**: Lead Agent + SubAgents íŒ¨í„´ìœ¼ë¡œ ë³‘ë ¬ ê²€ìƒ‰ êµ¬í˜„

4. **íŒŒì¼ ê¸°ë°˜ ë©”ëª¨ë¦¬**: state.json, knowledge_graph.json, reflexion.jsonìœ¼ë¡œ ì™„ì „í•œ ìƒíƒœ ê´€ë¦¬

5. **ì‹¤ì œ ì½”ë“œ ì œê³µ**: setup.sh, research.sh, SKILL.md, Stop Hook ë“± ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ë“œ

### ë‹¤ìŒ ë‹¨ê³„

```bash
# 1. í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
chmod +x setup.sh && ./setup.sh

# 2. ì²« ì—°êµ¬ ì‹œì‘
./research.sh 10 "Transformerì˜ attention mechanismì´ ì™œ íš¨ê³¼ì ì¸ê°€?"

# 3. ê²°ê³¼ í™•ì¸
cat .research/state.json | jq .iteration
cat .research/findings.md
```

---

*ì´ ë¬¸ì„œëŠ” Claude Codeì˜ ì‹¤ì œ ê¸°ëŠ¥ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©°, ì¦‰ì‹œ êµ¬í˜„ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì˜ ìƒì„¸í•¨ì„ ì œê³µí•©ë‹ˆë‹¤.*
*ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: 2025-01-29*
